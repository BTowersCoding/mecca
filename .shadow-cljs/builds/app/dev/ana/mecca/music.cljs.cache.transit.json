["^ ","~:output",["^ ","~:js","goog.provide('mecca.music');\ngoog.require('cljs.core');\ngoog.require('clojure.string');\ngoog.require('cljs.core.async');\ngoog.require('mecca.songs.popcorn');\ngoog.require('mecca.songs.oohchild');\ngoog.require('mecca.songs.stmp');\ngoog.require('re_frame.core');\nmecca.music.mario_jump = (function mecca$music$mario_jump(){\nvar beat = (function (){var G__32463 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32463) : re_frame.core.subscribe.call(null,G__32463));\n})();\nvar notes = (function (){var G__32464 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32464) : re_frame.core.subscribe.call(null,G__32464));\n})();\nvar jump = (function (){var G__32465 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32465) : re_frame.core.subscribe.call(null,G__32465));\n})();\nif(cljs.core.truth_((function (){var and__4174__auto__ = cljs.core.deref((function (){var G__32468 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32468) : re_frame.core.subscribe.call(null,G__32468));\n})());\nif(cljs.core.truth_(and__4174__auto__)){\nreturn (cljs.core.deref(jump) === (0));\n} else {\nreturn and__4174__auto__;\n}\n})())){\nif(((0) < cljs.core.count(cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__32462_SHARP_){\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32462_SHARP_),(cljs.core.deref(beat) + (1)));\n}),cljs.core.deref(notes))))){\nvar G__32469 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"jump!\",\"jump!\",-1168155200)], null);\nreturn (re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__32469) : re_frame.core.dispatch.call(null,G__32469));\n} else {\nreturn null;\n}\n} else {\nreturn null;\n}\n});\nmecca.music.mario_move = (function mecca$music$mario_move(){\nvar notes = (function (){var G__32471 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32471) : re_frame.core.subscribe.call(null,G__32471));\n})();\nvar playing_QMARK_ = cljs.core.deref((function (){var G__32472 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32472) : re_frame.core.subscribe.call(null,G__32472));\n})());\nvar now = cljs.core.deref((function (){var G__32473 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32473) : re_frame.core.subscribe.call(null,G__32473));\n})()).currentTime;\nvar length = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__32470_SHARP_){\nreturn new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32470_SHARP_);\n}),cljs.core.deref(notes)));\nvar started = (function (){var G__32474 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32474) : re_frame.core.subscribe.call(null,G__32474));\n})();\nvar elapsed = (now - cljs.core.deref(started));\nvar beat_length = ((60) / cljs.core.deref((function (){var G__32475 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32475) : re_frame.core.subscribe.call(null,G__32475));\n})()));\nvar end_time = (cljs.core.deref(started) + (beat_length * (4)));\nvar current_beat = (elapsed / beat_length);\nvar last_drawn_pos = (function (){var G__32476 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32476) : re_frame.core.subscribe.call(null,G__32476));\n})();\nif(cljs.core.truth_(playing_QMARK_)){\nif((length < current_beat)){\nvar G__32477_32687 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-off\",\"play-off\",2116693509)], null);\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__32477_32687) : re_frame.core.dispatch.call(null,G__32477_32687));\n} else {\nif((cljs.core.deref(last_drawn_pos) < current_beat)){\nvar G__32478_32688 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"move-mario\",\"move-mario\",-317739908)], null);\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__32478_32688) : re_frame.core.dispatch.call(null,G__32478_32688));\n\nvar G__32479_32689 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"advance-position\",\"advance-position\",-23796893)], null);\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__32479_32689) : re_frame.core.dispatch.call(null,G__32479_32689));\n} else {\n}\n}\n} else {\n}\n\nreturn mecca.music.mario_jump();\n});\nmecca.music.dispatch_timer_event = (function mecca$music$dispatch_timer_event(){\nvar G__32480_32690 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tick!\",\"tick!\",68058958)], null);\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__32480_32690) : re_frame.core.dispatch.call(null,G__32480_32690));\n\nreturn mecca.music.mario_move();\n});\nif((typeof mecca !== 'undefined') && (typeof mecca.music !== 'undefined') && (typeof mecca.music.do_timer !== 'undefined')){\n} else {\nmecca.music.do_timer = setInterval(mecca.music.dispatch_timer_event,(60));\n}\nmecca.music.load_sound = (function mecca$music$load_sound(named_url){\nvar out = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nvar req = (new XMLHttpRequest());\n(req.responseType = \"arraybuffer\");\n\n(req.onload = (function (e){\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(req.status,(200))){\ncljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(out,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(named_url,new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198),req.response));\n\nreturn cljs.core.async.close_BANG_(out);\n} else {\nreturn cljs.core.async.close_BANG_(out);\n}\n}));\n\nreq.open(\"GET\",new cljs.core.Keyword(null,\"url\",\"url\",276297046).cljs$core$IFn$_invoke$arity$1(named_url),true);\n\nreq.send();\n\nreturn out;\n});\nmecca.music.decode = (function mecca$music$decode(named_url){\nvar out = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nif(cljs.core.truth_(new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198).cljs$core$IFn$_invoke$arity$1(named_url))){\ncljs.core.deref((function (){var G__32481 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32481) : re_frame.core.subscribe.call(null,G__32481));\n})()).decodeAudioData(new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198).cljs$core$IFn$_invoke$arity$1(named_url),(function (decoded_buffer){\ncljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(out,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(named_url,new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700),decoded_buffer));\n\nreturn cljs.core.async.close_BANG_(out);\n}),(function (){\nconsole.error(\"Error loading file \",cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([named_url], 0)));\n\nreturn cljs.core.async.close_BANG_(out);\n}));\n} else {\ncljs.core.async.close_BANG_(out);\n}\n\nreturn out;\n});\nmecca.music.buffer_source = (function mecca$music$buffer_source(buffer){\nvar source = cljs.core.deref((function (){var G__32482 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32482) : re_frame.core.subscribe.call(null,G__32482));\n})()).createBufferSource();\n(source.buffer = buffer);\n\nreturn source;\n});\nmecca.music.get_and_decode = (function mecca$music$get_and_decode(named_url){\nvar c__28952__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run((function (){\nvar f__28953__auto__ = (function (){var switch__28929__auto__ = (function (state_32494){\nvar state_val_32495 = (state_32494[(1)]);\nif((state_val_32495 === (1))){\nvar inst_32483 = mecca.music.load_sound(named_url);\nvar state_32494__$1 = state_32494;\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_32494__$1,(2),inst_32483);\n} else {\nif((state_val_32495 === (2))){\nvar inst_32485 = (state_32494[(7)]);\nvar inst_32485__$1 = (state_32494[(2)]);\nvar state_32494__$1 = (function (){var statearr_32496 = state_32494;\n(statearr_32496[(7)] = inst_32485__$1);\n\nreturn statearr_32496;\n})();\nif(cljs.core.truth_(inst_32485__$1)){\nvar statearr_32497_32691 = state_32494__$1;\n(statearr_32497_32691[(1)] = (3));\n\n} else {\nvar statearr_32498_32692 = state_32494__$1;\n(statearr_32498_32692[(1)] = (4));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_32495 === (3))){\nvar inst_32485 = (state_32494[(7)]);\nvar inst_32487 = mecca.music.decode(inst_32485);\nvar state_32494__$1 = state_32494;\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_32494__$1,(6),inst_32487);\n} else {\nif((state_val_32495 === (4))){\nvar state_32494__$1 = state_32494;\nvar statearr_32499_32714 = state_32494__$1;\n(statearr_32499_32714[(2)] = null);\n\n(statearr_32499_32714[(1)] = (5));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_32495 === (5))){\nvar inst_32492 = (state_32494[(2)]);\nvar state_32494__$1 = state_32494;\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_32494__$1,inst_32492);\n} else {\nif((state_val_32495 === (6))){\nvar inst_32489 = (state_32494[(2)]);\nvar state_32494__$1 = state_32494;\nvar statearr_32500_32715 = state_32494__$1;\n(statearr_32500_32715[(2)] = inst_32489);\n\n(statearr_32500_32715[(1)] = (5));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nreturn null;\n}\n}\n}\n}\n}\n}\n});\nreturn (function() {\nvar mecca$music$get_and_decode_$_state_machine__28930__auto__ = null;\nvar mecca$music$get_and_decode_$_state_machine__28930__auto____0 = (function (){\nvar statearr_32501 = [null,null,null,null,null,null,null,null];\n(statearr_32501[(0)] = mecca$music$get_and_decode_$_state_machine__28930__auto__);\n\n(statearr_32501[(1)] = (1));\n\nreturn statearr_32501;\n});\nvar mecca$music$get_and_decode_$_state_machine__28930__auto____1 = (function (state_32494){\nwhile(true){\nvar ret_value__28931__auto__ = (function (){try{while(true){\nvar result__28932__auto__ = switch__28929__auto__(state_32494);\nif(cljs.core.keyword_identical_QMARK_(result__28932__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__28932__auto__;\n}\nbreak;\n}\n}catch (e32502){if((e32502 instanceof Object)){\nvar ex__28933__auto__ = e32502;\nvar statearr_32503_32725 = state_32494;\n(statearr_32503_32725[(5)] = ex__28933__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_32494);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e32502;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__28931__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__32728 = state_32494;\nstate_32494 = G__32728;\ncontinue;\n} else {\nreturn ret_value__28931__auto__;\n}\nbreak;\n}\n});\nmecca$music$get_and_decode_$_state_machine__28930__auto__ = function(state_32494){\nswitch(arguments.length){\ncase 0:\nreturn mecca$music$get_and_decode_$_state_machine__28930__auto____0.call(this);\ncase 1:\nreturn mecca$music$get_and_decode_$_state_machine__28930__auto____1.call(this,state_32494);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nmecca$music$get_and_decode_$_state_machine__28930__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$get_and_decode_$_state_machine__28930__auto____0;\nmecca$music$get_and_decode_$_state_machine__28930__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$get_and_decode_$_state_machine__28930__auto____1;\nreturn mecca$music$get_and_decode_$_state_machine__28930__auto__;\n})()\n})();\nvar state__28954__auto__ = (function (){var statearr_32504 = (f__28953__auto__.cljs$core$IFn$_invoke$arity$0 ? f__28953__auto__.cljs$core$IFn$_invoke$arity$0() : f__28953__auto__.call(null));\n(statearr_32504[(6)] = c__28952__auto__);\n\nreturn statearr_32504;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__28954__auto__);\n}));\n\nreturn c__28952__auto__;\n});\nmecca.music.load_samples = (function mecca$music$load_samples(){\nvar c__28952__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run((function (){\nvar f__28953__auto__ = (function (){var switch__28929__auto__ = (function (state_32533){\nvar state_val_32534 = (state_32533[(1)]);\nif((state_val_32534 === (1))){\nvar inst_32505 = cljs.core.PersistentHashMap.EMPTY;\nvar inst_32506 = cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(19));\nvar inst_32507 = inst_32505;\nvar inst_32508 = inst_32506;\nvar state_32533__$1 = (function (){var statearr_32535 = state_32533;\n(statearr_32535[(7)] = inst_32508);\n\n(statearr_32535[(8)] = inst_32507);\n\nreturn statearr_32535;\n})();\nvar statearr_32536_32729 = state_32533__$1;\n(statearr_32536_32729[(2)] = null);\n\n(statearr_32536_32729[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_32534 === (2))){\nvar inst_32508 = (state_32533[(7)]);\nvar inst_32510 = cljs.core.first(inst_32508);\nvar inst_32511 = (inst_32510 == null);\nvar inst_32512 = cljs.core.not(inst_32511);\nvar state_32533__$1 = state_32533;\nif(inst_32512){\nvar statearr_32537_32730 = state_32533__$1;\n(statearr_32537_32730[(1)] = (4));\n\n} else {\nvar statearr_32538_32731 = state_32533__$1;\n(statearr_32538_32731[(1)] = (5));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_32534 === (3))){\nvar inst_32531 = (state_32533[(2)]);\nvar state_32533__$1 = state_32533;\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_32533__$1,inst_32531);\n} else {\nif((state_val_32534 === (4))){\nvar inst_32514 = (state_32533[(9)]);\nvar inst_32508 = (state_32533[(7)]);\nvar inst_32514__$1 = cljs.core.first(inst_32508);\nvar inst_32515 = [new cljs.core.Keyword(null,\"url\",\"url\",276297046),new cljs.core.Keyword(null,\"sound\",\"sound\",-2127407070)];\nvar inst_32516 = [\"/audio/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(inst_32514__$1),\".mp3\"].join('');\nvar inst_32517 = [inst_32516,inst_32514__$1];\nvar inst_32518 = cljs.core.PersistentHashMap.fromArrays(inst_32515,inst_32517);\nvar inst_32519 = mecca.music.get_and_decode(inst_32518);\nvar state_32533__$1 = (function (){var statearr_32539 = state_32533;\n(statearr_32539[(9)] = inst_32514__$1);\n\nreturn statearr_32539;\n})();\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_32533__$1,(7),inst_32519);\n} else {\nif((state_val_32534 === (5))){\nvar inst_32507 = (state_32533[(8)]);\nvar state_32533__$1 = state_32533;\nvar statearr_32540_32743 = state_32533__$1;\n(statearr_32540_32743[(2)] = inst_32507);\n\n(statearr_32540_32743[(1)] = (6));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_32534 === (6))){\nvar inst_32529 = (state_32533[(2)]);\nvar state_32533__$1 = state_32533;\nvar statearr_32541_32744 = state_32533__$1;\n(statearr_32541_32744[(2)] = inst_32529);\n\n(statearr_32541_32744[(1)] = (3));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_32534 === (7))){\nvar inst_32514 = (state_32533[(9)]);\nvar inst_32508 = (state_32533[(7)]);\nvar inst_32507 = (state_32533[(8)]);\nvar inst_32521 = (state_32533[(2)]);\nvar inst_32522 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([inst_32514], 0));\nvar inst_32523 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([inst_32521], 0));\nvar inst_32524 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(inst_32507,inst_32514,inst_32521);\nvar inst_32525 = cljs.core.rest(inst_32508);\nvar inst_32507__$1 = inst_32524;\nvar inst_32508__$1 = inst_32525;\nvar state_32533__$1 = (function (){var statearr_32542 = state_32533;\n(statearr_32542[(10)] = inst_32522);\n\n(statearr_32542[(11)] = inst_32523);\n\n(statearr_32542[(7)] = inst_32508__$1);\n\n(statearr_32542[(8)] = inst_32507__$1);\n\nreturn statearr_32542;\n})();\nvar statearr_32543_32745 = state_32533__$1;\n(statearr_32543_32745[(2)] = null);\n\n(statearr_32543_32745[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nreturn null;\n}\n}\n}\n}\n}\n}\n}\n});\nreturn (function() {\nvar mecca$music$load_samples_$_state_machine__28930__auto__ = null;\nvar mecca$music$load_samples_$_state_machine__28930__auto____0 = (function (){\nvar statearr_32544 = [null,null,null,null,null,null,null,null,null,null,null,null];\n(statearr_32544[(0)] = mecca$music$load_samples_$_state_machine__28930__auto__);\n\n(statearr_32544[(1)] = (1));\n\nreturn statearr_32544;\n});\nvar mecca$music$load_samples_$_state_machine__28930__auto____1 = (function (state_32533){\nwhile(true){\nvar ret_value__28931__auto__ = (function (){try{while(true){\nvar result__28932__auto__ = switch__28929__auto__(state_32533);\nif(cljs.core.keyword_identical_QMARK_(result__28932__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__28932__auto__;\n}\nbreak;\n}\n}catch (e32545){if((e32545 instanceof Object)){\nvar ex__28933__auto__ = e32545;\nvar statearr_32546_32770 = state_32533;\n(statearr_32546_32770[(5)] = ex__28933__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_32533);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e32545;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__28931__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__32771 = state_32533;\nstate_32533 = G__32771;\ncontinue;\n} else {\nreturn ret_value__28931__auto__;\n}\nbreak;\n}\n});\nmecca$music$load_samples_$_state_machine__28930__auto__ = function(state_32533){\nswitch(arguments.length){\ncase 0:\nreturn mecca$music$load_samples_$_state_machine__28930__auto____0.call(this);\ncase 1:\nreturn mecca$music$load_samples_$_state_machine__28930__auto____1.call(this,state_32533);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nmecca$music$load_samples_$_state_machine__28930__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$load_samples_$_state_machine__28930__auto____0;\nmecca$music$load_samples_$_state_machine__28930__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$load_samples_$_state_machine__28930__auto____1;\nreturn mecca$music$load_samples_$_state_machine__28930__auto__;\n})()\n})();\nvar state__28954__auto__ = (function (){var statearr_32547 = (f__28953__auto__.cljs$core$IFn$_invoke$arity$0 ? f__28953__auto__.cljs$core$IFn$_invoke$arity$0() : f__28953__auto__.call(null));\n(statearr_32547[(6)] = c__28952__auto__);\n\nreturn statearr_32547;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__28954__auto__);\n}));\n\nreturn c__28952__auto__;\n});\nif((typeof mecca !== 'undefined') && (typeof mecca.music !== 'undefined') && (typeof mecca.music.loading_samples !== 'undefined')){\n} else {\nmecca.music.loading_samples = (function (){var c__28952__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run((function (){\nvar f__28953__auto__ = (function (){var switch__28929__auto__ = (function (state_32557){\nvar state_val_32558 = (state_32557[(1)]);\nif((state_val_32558 === (1))){\nvar inst_32548 = cljs.core.PersistentVector.EMPTY_NODE;\nvar inst_32549 = mecca.music.load_samples();\nvar state_32557__$1 = (function (){var statearr_32559 = state_32557;\n(statearr_32559[(7)] = inst_32548);\n\nreturn statearr_32559;\n})();\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_32557__$1,(2),inst_32549);\n} else {\nif((state_val_32558 === (2))){\nvar inst_32548 = (state_32557[(7)]);\nvar inst_32551 = (state_32557[(2)]);\nvar inst_32552 = [new cljs.core.Keyword(null,\"load-samples\",\"load-samples\",-40877701),inst_32551];\nvar inst_32553 = (new cljs.core.PersistentVector(null,2,(5),inst_32548,inst_32552,null));\nvar inst_32554 = (re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(inst_32553) : re_frame.core.dispatch.call(null,inst_32553));\nvar inst_32555 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([\"Samples loaded\"], 0));\nvar state_32557__$1 = (function (){var statearr_32560 = state_32557;\n(statearr_32560[(8)] = inst_32554);\n\nreturn statearr_32560;\n})();\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_32557__$1,inst_32555);\n} else {\nreturn null;\n}\n}\n});\nreturn (function() {\nvar mecca$music$state_machine__28930__auto__ = null;\nvar mecca$music$state_machine__28930__auto____0 = (function (){\nvar statearr_32561 = [null,null,null,null,null,null,null,null,null];\n(statearr_32561[(0)] = mecca$music$state_machine__28930__auto__);\n\n(statearr_32561[(1)] = (1));\n\nreturn statearr_32561;\n});\nvar mecca$music$state_machine__28930__auto____1 = (function (state_32557){\nwhile(true){\nvar ret_value__28931__auto__ = (function (){try{while(true){\nvar result__28932__auto__ = switch__28929__auto__(state_32557);\nif(cljs.core.keyword_identical_QMARK_(result__28932__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__28932__auto__;\n}\nbreak;\n}\n}catch (e32562){if((e32562 instanceof Object)){\nvar ex__28933__auto__ = e32562;\nvar statearr_32563_32795 = state_32557;\n(statearr_32563_32795[(5)] = ex__28933__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_32557);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e32562;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__28931__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__32796 = state_32557;\nstate_32557 = G__32796;\ncontinue;\n} else {\nreturn ret_value__28931__auto__;\n}\nbreak;\n}\n});\nmecca$music$state_machine__28930__auto__ = function(state_32557){\nswitch(arguments.length){\ncase 0:\nreturn mecca$music$state_machine__28930__auto____0.call(this);\ncase 1:\nreturn mecca$music$state_machine__28930__auto____1.call(this,state_32557);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nmecca$music$state_machine__28930__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$state_machine__28930__auto____0;\nmecca$music$state_machine__28930__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$state_machine__28930__auto____1;\nreturn mecca$music$state_machine__28930__auto__;\n})()\n})();\nvar state__28954__auto__ = (function (){var statearr_32564 = (f__28953__auto__.cljs$core$IFn$_invoke$arity$0 ? f__28953__auto__.cljs$core$IFn$_invoke$arity$0() : f__28953__auto__.call(null));\n(statearr_32564[(6)] = c__28952__auto__);\n\nreturn statearr_32564;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__28954__auto__);\n}));\n\nreturn c__28952__auto__;\n})();\n}\nmecca.music.add_semitone = (function mecca$music$add_semitone(rate){\nreturn (rate * Math.pow((2),((1) / (12))));\n});\nmecca.music.sub_semitone = (function mecca$music$sub_semitone(rate){\nreturn (rate * Math.pow((2),((-1) / (12))));\n});\nmecca.music.inc_rate = (function mecca$music$inc_rate(semis){\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(mecca.music.add_semitone,cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(semis,(1)));\n});\nmecca.music.dec_rate = (function mecca$music$dec_rate(semis){\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(mecca.music.sub_semitone,cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(semis,(1)));\n});\nmecca.music.pitch__GT_rate = (function mecca$music$pitch__GT_rate(midi_num){\nif(((66) < midi_num)){\nreturn mecca.music.inc_rate((midi_num - (66)));\n} else {\nreturn mecca.music.dec_rate(((68) - midi_num));\n}\n});\nmecca.music.play_note = (function mecca$music$play_note(pitch){\nvar context = cljs.core.deref((function (){var G__32565 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32565) : re_frame.core.subscribe.call(null,G__32565));\n})());\nvar samples = (function (){var G__32566 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32566) : re_frame.core.subscribe.call(null,G__32566));\n})();\nvar instrument = (function (){var G__32567 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32567) : re_frame.core.subscribe.call(null,G__32567));\n})();\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),cljs.core.deref(instrument)));\nvar sample_source = context.createBufferSource();\n(sample_source.buffer = audio_buffer);\n\nsample_source.playbackRate.setValueAtTime(mecca.music.pitch__GT_rate(pitch),context.currentTime);\n\nsample_source.connect(context.destination);\n\nsample_source.start();\n\nreturn sample_source;\n});\nmecca.music.play_sample = (function mecca$music$play_sample(instrument,pitch){\nvar context = (function (){var G__32568 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32568) : re_frame.core.subscribe.call(null,G__32568));\n})();\nvar samples = (function (){var G__32569 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32569) : re_frame.core.subscribe.call(null,G__32569));\n})();\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),instrument));\nvar sample_source = cljs.core.deref(context).createBufferSource();\nvar compressor = cljs.core.deref(context).createDynamicsCompressor();\nvar analyser = cljs.core.deref(context).createAnalyser();\n(sample_source.buffer = audio_buffer);\n\nsample_source.playbackRate.setValueAtTime(mecca.music.pitch__GT_rate(pitch),cljs.core.deref(context).currentTime);\n\nsample_source.connect(analyser);\n\nsample_source.connect(cljs.core.deref(context).destination);\n\nsample_source.start();\n\nreturn sample_source;\n});\nmecca.music.play_at = (function mecca$music$play_at(instrument,pitch,time){\nvar context = (function (){var G__32570 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32570) : re_frame.core.subscribe.call(null,G__32570));\n})();\nvar samples = (function (){var G__32571 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32571) : re_frame.core.subscribe.call(null,G__32571));\n})();\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),instrument));\nvar sample_source = cljs.core.deref(context).createBufferSource();\n(sample_source.buffer = audio_buffer);\n\nsample_source.playbackRate.setValueAtTime(mecca.music.pitch__GT_rate(pitch),time);\n\nsample_source.connect(cljs.core.deref(context).destination);\n\nsample_source.start(time);\n\nreturn sample_source;\n});\nmecca.music.delay_note = (function mecca$music$delay_note(beats,note){\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(note,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),(function (p1__32572_SHARP_){\nreturn (beats + p1__32572_SHARP_);\n}));\n});\nmecca.music.advance_note = (function mecca$music$advance_note(beats,note){\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(note,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),(function (p1__32573_SHARP_){\nreturn (p1__32573_SHARP_ - beats);\n}));\n});\nmecca.music.queue_section = (function mecca$music$queue_section(from,to){\nvar notes = (function (){var G__32576 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32576) : re_frame.core.subscribe.call(null,G__32576));\n})();\nvar started = (function (){var G__32577 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32577) : re_frame.core.subscribe.call(null,G__32577));\n})();\nvar tempo = (function (){var G__32578 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32578) : re_frame.core.subscribe.call(null,G__32578));\n})();\nvar section = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__32574_SHARP_){\nreturn (((from <= new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32574_SHARP_))) && ((new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32574_SHARP_) <= to)));\n}),cljs.core.deref(notes));\nvar advanced = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__32575_SHARP_){\nreturn mecca.music.advance_note(from,p1__32575_SHARP_);\n}),section);\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$queue_section_$_iter__32579(s__32580){\nreturn (new cljs.core.LazySeq(null,(function (){\nvar s__32580__$1 = s__32580;\nwhile(true){\nvar temp__5735__auto__ = cljs.core.seq(s__32580__$1);\nif(temp__5735__auto__){\nvar s__32580__$2 = temp__5735__auto__;\nif(cljs.core.chunked_seq_QMARK_(s__32580__$2)){\nvar c__4580__auto__ = cljs.core.chunk_first(s__32580__$2);\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\nvar b__32582 = cljs.core.chunk_buffer(size__4581__auto__);\nif((function (){var i__32581 = (0);\nwhile(true){\nif((i__32581 < size__4581__auto__)){\nvar map__32583 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__32581);\nvar map__32583__$1 = (((((!((map__32583 == null))))?(((((map__32583.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__32583.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__32583):map__32583);\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32583__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32583__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32583__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\ncljs.core.chunk_append(b__32582,mecca.music.play_at(instrument,pitch,(cljs.core.deref(started) + (((60) / cljs.core.deref(tempo)) * time))));\n\nvar G__32849 = (i__32581 + (1));\ni__32581 = G__32849;\ncontinue;\n} else {\nreturn true;\n}\nbreak;\n}\n})()){\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__32582),mecca$music$queue_section_$_iter__32579(cljs.core.chunk_rest(s__32580__$2)));\n} else {\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__32582),null);\n}\n} else {\nvar map__32585 = cljs.core.first(s__32580__$2);\nvar map__32585__$1 = (((((!((map__32585 == null))))?(((((map__32585.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__32585.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__32585):map__32585);\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32585__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32585__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32585__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(cljs.core.deref(started) + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$queue_section_$_iter__32579(cljs.core.rest(s__32580__$2)));\n}\n} else {\nreturn null;\n}\nbreak;\n}\n}),null,null));\n});\nreturn iter__4582__auto__(section);\n})());\n});\nmecca.music.play_section = (function mecca$music$play_section(from,to){\nvar notes = (function (){var G__32589 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32589) : re_frame.core.subscribe.call(null,G__32589));\n})();\nvar now = cljs.core.deref((function (){var G__32590 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32590) : re_frame.core.subscribe.call(null,G__32590));\n})()).currentTime;\nvar tempo = (function (){var G__32591 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32591) : re_frame.core.subscribe.call(null,G__32591));\n})();\nvar section = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__32587_SHARP_){\nreturn (((from <= new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32587_SHARP_))) && ((new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32587_SHARP_) <= to)));\n}),cljs.core.deref(notes));\nvar advanced = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__32588_SHARP_){\nreturn mecca.music.advance_note(from,p1__32588_SHARP_);\n}),section);\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$play_section_$_iter__32592(s__32593){\nreturn (new cljs.core.LazySeq(null,(function (){\nvar s__32593__$1 = s__32593;\nwhile(true){\nvar temp__5735__auto__ = cljs.core.seq(s__32593__$1);\nif(temp__5735__auto__){\nvar s__32593__$2 = temp__5735__auto__;\nif(cljs.core.chunked_seq_QMARK_(s__32593__$2)){\nvar c__4580__auto__ = cljs.core.chunk_first(s__32593__$2);\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\nvar b__32595 = cljs.core.chunk_buffer(size__4581__auto__);\nif((function (){var i__32594 = (0);\nwhile(true){\nif((i__32594 < size__4581__auto__)){\nvar map__32596 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__32594);\nvar map__32596__$1 = (((((!((map__32596 == null))))?(((((map__32596.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__32596.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__32596):map__32596);\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32596__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32596__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32596__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\ncljs.core.chunk_append(b__32595,mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))));\n\nvar G__32887 = (i__32594 + (1));\ni__32594 = G__32887;\ncontinue;\n} else {\nreturn true;\n}\nbreak;\n}\n})()){\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__32595),mecca$music$play_section_$_iter__32592(cljs.core.chunk_rest(s__32593__$2)));\n} else {\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__32595),null);\n}\n} else {\nvar map__32598 = cljs.core.first(s__32593__$2);\nvar map__32598__$1 = (((((!((map__32598 == null))))?(((((map__32598.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__32598.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__32598):map__32598);\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32598__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32598__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32598__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$play_section_$_iter__32592(cljs.core.rest(s__32593__$2)));\n}\n} else {\nreturn null;\n}\nbreak;\n}\n}),null,null));\n});\nreturn iter__4582__auto__(advanced);\n})());\n});\nmecca.music.play_notes = (function mecca$music$play_notes(n){\nvar editor_start = (function (){var G__32600 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32600) : re_frame.core.subscribe.call(null,G__32600));\n})();\nvar tempo = (function (){var G__32601 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32601) : re_frame.core.subscribe.call(null,G__32601));\n})();\nvar beat_length = ((60) / cljs.core.deref((function (){var G__32602 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32602) : re_frame.core.subscribe.call(null,G__32602));\n})()));\nvar play_pos = (((cljs.core.deref(editor_start) < (4)))?cljs.core.deref(editor_start):((4) + cljs.core.deref((function (){var G__32603 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32603) : re_frame.core.subscribe.call(null,G__32603));\n})())));\nreturn mecca.music.play_section((play_pos - (1)),((play_pos - (1)) + (n * 0.5)));\n});\nmecca.music.play_from_here = (function mecca$music$play_from_here(){\nvar notes = (function (){var G__32605 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32605) : re_frame.core.subscribe.call(null,G__32605));\n})();\nvar editor_start = (function (){var G__32606 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32606) : re_frame.core.subscribe.call(null,G__32606));\n})();\nvar play_pos = cljs.core.deref(editor_start);\nvar length = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__32604_SHARP_){\nreturn new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32604_SHARP_);\n}),cljs.core.deref(notes)));\nreturn mecca.music.play_section((play_pos - (1)),((16) + play_pos));\n});\nmecca.music.play_song_BANG_ = (function mecca$music$play_song_BANG_(){\nvar notes = (function (){var G__32607 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32607) : re_frame.core.subscribe.call(null,G__32607));\n})();\nvar now = cljs.core.deref((function (){var G__32608 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32608) : re_frame.core.subscribe.call(null,G__32608));\n})()).currentTime;\nvar tempo = (function (){var G__32609 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32609) : re_frame.core.subscribe.call(null,G__32609));\n})();\nvar G__32610_32909 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"reset-position\",\"reset-position\",-804750860)], null);\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__32610_32909) : re_frame.core.dispatch.call(null,G__32610_32909));\n\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$play_song_BANG__$_iter__32611(s__32612){\nreturn (new cljs.core.LazySeq(null,(function (){\nvar s__32612__$1 = s__32612;\nwhile(true){\nvar temp__5735__auto__ = cljs.core.seq(s__32612__$1);\nif(temp__5735__auto__){\nvar s__32612__$2 = temp__5735__auto__;\nif(cljs.core.chunked_seq_QMARK_(s__32612__$2)){\nvar c__4580__auto__ = cljs.core.chunk_first(s__32612__$2);\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\nvar b__32614 = cljs.core.chunk_buffer(size__4581__auto__);\nif((function (){var i__32613 = (0);\nwhile(true){\nif((i__32613 < size__4581__auto__)){\nvar map__32615 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__32613);\nvar map__32615__$1 = (((((!((map__32615 == null))))?(((((map__32615.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__32615.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__32615):map__32615);\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32615__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32615__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32615__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\ncljs.core.chunk_append(b__32614,mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))));\n\nvar G__32913 = (i__32613 + (1));\ni__32613 = G__32913;\ncontinue;\n} else {\nreturn true;\n}\nbreak;\n}\n})()){\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__32614),mecca$music$play_song_BANG__$_iter__32611(cljs.core.chunk_rest(s__32612__$2)));\n} else {\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__32614),null);\n}\n} else {\nvar map__32617 = cljs.core.first(s__32612__$2);\nvar map__32617__$1 = (((((!((map__32617 == null))))?(((((map__32617.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__32617.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__32617):map__32617);\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32617__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32617__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__32617__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$play_song_BANG__$_iter__32611(cljs.core.rest(s__32612__$2)));\n}\n} else {\nreturn null;\n}\nbreak;\n}\n}),null,null));\n});\nreturn iter__4582__auto__(cljs.core.deref(notes));\n})());\n});\nmecca.music.get_bytes_BANG_ = (function mecca$music$get_bytes_BANG_(analyser,freq_data){\nanalyser.getByteFrequencyData(freq_data);\n\nreturn freq_data;\n});\ncljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__32619_SHARP_){\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((13),new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844).cljs$core$IFn$_invoke$arity$1(p1__32619_SHARP_));\n}),cljs.core.deref((function (){var G__32620 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__32620) : re_frame.core.subscribe.call(null,G__32620));\n})()));\nmecca.music.loop_notes = (function mecca$music$loop_notes(notes){\nvar length = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__32621_SHARP_){\nreturn new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__32621_SHARP_);\n}),notes));\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(notes,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__32622_SHARP_){\nreturn mecca.music.delay_note((0.5 + length),p1__32622_SHARP_);\n}),notes));\n});\ncljs.core.deref((function (){var G__32623 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"set-notes\",\"set-notes\",-1718182261),mecca.songs.stmp.stmp], null);\nreturn (re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__32623) : re_frame.core.dispatch.call(null,G__32623));\n})());\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","mecca/music.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",16],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$react","~$module$node_modules$react$index","~$create-react-class","~$module$node_modules$create_react_class$index","~$react-dom","~$module$node_modules$react_dom$index"],"~:use-macros",["^ ","~$go","~$cljs.core.async.macros","~$go-loop","^F"],"~:excludes",["~#set",[]],"~:name","~$mecca.music","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$mecca.songs.oohchild","^P","~$rf","~$re-frame.core","~$cljs.core","^S","~$goog","^T","~$cljs.core.async","^U","~$mecca.songs.stmp","^V","~$str","~$clojure.string","^X","^X","^R","^R","~$mecca.songs.popcorn","^Y"],"~:seen",["^I",["~:require","~:require-macros"]],"~:uses",["^ ","~$subscribe","^R","~$<!","^U","~$close!","^U","~$chan","^U","~$oohchild","^P","~$popcorn","^Y","~$dispatch","^R","~$stmp","^V","~$put!","^U"],"^10",["^ ","^F","^F","^S","^S","^U","^U"],"~:form",["~#list",["~$ns","^K",["^1<",["^[",["^X","~:as","^W"],["^U","~:refer",["^13","^15","^1:","^14"]],["^Y","^1?",["^17"]],["^P","^1?",["^16"]],["^V","^1?",["^19"]],["^R","^1>","^Q","^1?",["^12","^18"]]]],["^1<",["^10",["^F","^1?",["^E","^G"]]]]]],"~:flags",["^ ","^[",["^I",[]],"^10",["^I",[]]],"~:js-deps",["^ "],"~:deps",["^T","^S","^X","^U","^Y","^P","^V","^R"]],"^M","^K","~:resource-id",["~:shadow.build.classpath/resource","mecca/music.cljs"],"~:compiled-at",1639779865025,"~:resource-name","mecca/music.cljs","~:warnings",[],"~:source","(ns mecca.music\n  (:require\n   [clojure.string :as str]\n   [cljs.core.async :refer [<! chan put! close!]]\n   [mecca.songs.popcorn :refer [popcorn]]\n   [mecca.songs.oohchild :refer [oohchild]]\n   [mecca.songs.stmp :refer [stmp]]\n   [re-frame.core :as rf :refer [subscribe dispatch]])\n  (:require-macros\n   [cljs.core.async.macros :refer [go go-loop]]))\n\n(defn mario-jump []\n  (let [beat (subscribe [:current-position])\n        notes (subscribe [:notes])\n        jump (subscribe [:mario-jump])]\n    (when (and @(subscribe [:playing?])\n               (zero? @jump))\n      (if (< 0 (count (filter #(= (:time %) (inc @beat))\n                              @notes)))\n        (dispatch [:jump!])))))\n\n(defn mario-move []\n  (let [notes (subscribe [:notes])\n        playing? @(subscribe [:playing?])\n        now (.-currentTime @(subscribe [:audio-context]))\n        length (apply max (map #(:time %) @notes))\n        started (subscribe [:play-start])\n        elapsed (- now @started)\n        beat-length (/ 60 @(subscribe [:tempo]))\n        end-time (+ @started (* beat-length 4))\n        current-beat (/ elapsed beat-length)\n        last-drawn-pos (subscribe [:current-position])]\n    (when playing?\n      (if (< length current-beat)\n        (dispatch [:play-off])\n        (if (< @last-drawn-pos current-beat)\n          (do (dispatch [:move-mario])\n              (dispatch [:advance-position])))))\n    (mario-jump)))\n\n(defn dispatch-timer-event []\n  (dispatch [:tick!])\n  (mario-move))\n\n(defonce do-timer\n  (js/setInterval dispatch-timer-event 60))\n\n(defn load-sound [named-url]\n  (let [out (chan)\n        req (js/XMLHttpRequest.)]\n    (set! (.-responseType req) \"arraybuffer\")\n    (set! (.-onload req) (fn [e]\n                           (if (= (.-status req) 200)\n                             (do (put! out (assoc named-url :buffer (.-response req)))\n                                 (close! out))\n                             (close! out))))\n    (.open req \"GET\" (:url named-url) true)\n    (.send req)\n    out))\n\n(defn decode [named-url]\n  (let [out (chan)]\n    (if (:buffer named-url)\n      (do\n        (.decodeAudioData\n         @(subscribe [:audio-context]) (:buffer named-url)\n         (fn [decoded-buffer]\n           (put! out (assoc named-url :decoded-buffer decoded-buffer))\n           (close! out))\n         (fn []\n           (.error js/console \"Error loading file \" (prn named-url))\n           (close! out))))\n      (close! out))\n    out))\n\n(defn buffer-source [buffer]\n  (let [source (.createBufferSource @(subscribe [:audio-context]))]\n    (set! (.-buffer source) buffer)\n    source))\n\n(defn get-and-decode [named-url]\n  (go\n    (when-let [s (<! (load-sound named-url))]\n      (<! (decode s)))))\n\n(defn load-samples []\n  (go-loop [result {}\n            sounds (range 1 19)]\n    (if-not (nil? (first sounds))\n      (let [sound (first sounds)\n            decoded-buffer (<! (get-and-decode {:url (str \"/audio/\" sound \".mp3\")\n                                                :sound sound}))]\n        (prn sound)\n        (prn decoded-buffer)\n        (recur (assoc result sound decoded-buffer)\n               (rest sounds)))\n      result)))\n\n(defonce loading-samples\n  (go\n    (dispatch [:load-samples  (<! (load-samples))])\n    (prn \"Samples loaded\")))\n\n(defn add-semitone [rate]\n  (* rate (.pow js/Math 2 (/ 1 12))))\n\n(defn sub-semitone [rate]\n  (* rate (.pow js/Math 2 (/ -1 12))))\n\n(defn inc-rate [semis]\n  (reduce add-semitone (repeat semis 1)))\n\n(defn dec-rate [semis]\n  (reduce sub-semitone (repeat semis 1)))\n\n(defn pitch->rate [midi-num]\n  (if (< 66 midi-num)\n    (inc-rate (- midi-num 66))\n    (dec-rate (- 68 midi-num))))\n\n(defn play-note [pitch]\n  (let [context       @(subscribe [:audio-context])\n        samples       (subscribe [:samples])\n        instrument    (subscribe [:instrument])\n        audio-buffer  (:decoded-buffer (get @samples @instrument))\n        sample-source (.createBufferSource context)]\n    (set! (.-buffer sample-source) audio-buffer)\n    (.setValueAtTime\n     (.-playbackRate sample-source)\n     (pitch->rate pitch)\n     (.-currentTime context))\n    (.connect sample-source (.-destination context))\n    (.start sample-source)\n    sample-source))\n\n(defn play-sample [instrument pitch]\n  (let [context (subscribe [:audio-context])\n        samples (subscribe [:samples])\n        audio-buffer (:decoded-buffer (get @samples instrument))\n        sample-source (.createBufferSource @context)\n        compressor (.createDynamicsCompressor @context)\n        analyser (.createAnalyser @context)]\n    (set! (.-buffer sample-source) audio-buffer)\n    (.setValueAtTime\n     (.-playbackRate sample-source)\n     (pitch->rate pitch)\n     (.-currentTime @context))\n    (.connect sample-source analyser)\n    (.connect sample-source (.-destination @context))\n    (.start sample-source)\n    sample-source))\n\n(defn play-at [instrument pitch time]\n  (let [context (subscribe [:audio-context])\n        samples (subscribe [:samples])\n        audio-buffer (:decoded-buffer (get @samples instrument))\n        sample-source (.createBufferSource @context)]\n    (set! (.-buffer sample-source) audio-buffer)\n    (.setValueAtTime\n     (.-playbackRate sample-source)\n     (pitch->rate pitch)\n     time)\n    (.connect sample-source (.-destination @context))\n    (.start sample-source time)\n    sample-source))\n\n(defn delay-note [beats note]\n  (update note :time #(+ beats %)))\n\n(defn advance-note [beats note]\n  (update note :time #(- % beats)))\n\n(defn queue-section [from to]\n  (let [notes (subscribe [:notes])\n        started (subscribe [:play-start])\n        tempo (subscribe [:tempo])\n        section (filter #(<= from (:time %) to) @notes)\n        advanced (map #(advance-note from %) section)]\n    (doall (for [{:keys [time instrument pitch]} section]\n             (play-at instrument pitch (+ @started (* (/ 60 @tempo) time)))))))\n\n(defn play-section [from to]\n  (let [notes (subscribe [:notes])\n        now (.-currentTime @(subscribe [:audio-context]))\n        tempo (subscribe [:tempo])\n        section (filter #(<= from (:time %) to) @notes)\n        advanced (map #(advance-note from %) section)]\n    (doall (for [{:keys [time instrument pitch]} advanced]\n             (play-at instrument pitch (+ now (* (/ 60 @tempo) time)))))))\n\n(defn play-notes [n]\n  (let [editor-start (subscribe [:editor-beat-start])\n        tempo (subscribe [:tempo])\n        beat-length (/ 60 @(subscribe [:tempo]))\n        play-pos (if (< @editor-start 4)\n                   @editor-start\n                   (+ 4 @(subscribe [:editor-beat-start])))]\n    (play-section (dec play-pos) (+ (dec play-pos) (* n 0.5)))))\n\n(defn play-from-here []\n  (let [notes (subscribe [:notes])\n        editor-start (subscribe [:editor-beat-start])\n        play-pos ;(if (< @editor-start 4)\n        @editor-start\n                  ; (+ 4 @(subscribe [:editor-beat-start])))\n        length (apply max (map #(:time %) @notes))]\n    (play-section (dec play-pos) (+ 16 play-pos))))\n\n(defn play-song! []\n  (let [notes (subscribe [:notes])\n        now (.-currentTime @(subscribe [:audio-context]))\n        tempo (subscribe [:tempo])]\n    (dispatch [:reset-position])\n    (doall (for [{:keys [time instrument pitch]} @notes]\n             (play-at instrument pitch (+ now (* (/ 60 @tempo) time)))))))\n\n(defn get-bytes! [analyser freq-data]\n  (.getByteFrequencyData analyser freq-data)\n  freq-data)\n\n(filter #(= 13 (:instrument %))\n        @(subscribe [:notes]))\n\n(defn loop-notes [notes]\n  (let [length (apply max (map #(:time %) notes))]\n    (into notes\n          (map #(delay-note (+ 0.5 length) %) notes))))\n\n\n\n@(dispatch [:set-notes stmp])","~:reader-features",["^I",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["mecca.music/mario-jump","beat","G__32463","re-frame.core/subscribe","notes","G__32464","jump","G__32465","and__4174__auto__","cljs.core/deref","G__32468","cljs.core/count","p1__32462#","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","G__32469","re-frame.core/dispatch","mecca.music/mario-move","G__32471","playing?","G__32472","now","G__32473","length","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/max","p1__32470#","cljs.core.map.cljs$core$IFn$_invoke$arity$2","started","G__32474","elapsed","beat-length","G__32475","end-time","current-beat","last-drawn-pos","G__32476","G__32477","G__32478","G__32479","mecca.music/dispatch-timer-event","G__32480","js/mecca","js/mecca.music","js/mecca.music.do-timer","mecca.music/do-timer","js/setInterval","mecca.music/load-sound","named-url","out","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","req","js/XMLHttpRequest","e","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","cljs.core.async/close!","mecca.music/decode","G__32481","decoded-buffer","js/console","cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic","mecca.music/buffer-source","buffer","source","G__32482","mecca.music/get-and-decode","c__28952__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__28953__auto__","switch__28929__auto__","state_32494","state_val_32495","inst_32483","cljs.core.async.impl.ioc-helpers/take!","inst_32485","statearr-32496","statearr-32497","statearr-32498","inst_32487","statearr-32499","inst_32492","cljs.core.async.impl.ioc-helpers/return-chan","inst_32489","statearr-32500","statearr-32501","state-machine__28930__auto__","ret-value__28931__auto__","result__28932__auto__","cljs.core/keyword-identical?","e32502","js/Object","ex__28933__auto__","statearr-32503","cljs.core.async.impl.ioc-helpers/process-exception","state__28954__auto__","statearr-32504","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","mecca.music/load-samples","state_32533","state_val_32534","inst_32505","cljs.core/PersistentHashMap","inst_32506","inst_32507","inst_32508","statearr-32535","statearr-32536","inst_32510","inst_32511","inst_32512","cljs.core/not","statearr-32537","statearr-32538","inst_32531","inst_32514","inst_32515","inst_32516","inst_32517","inst_32518","inst_32519","statearr-32539","statearr-32540","inst_32529","statearr-32541","inst_32521","inst_32522","inst_32523","inst_32524","inst_32525","statearr-32542","statearr-32543","statearr-32544","e32545","statearr-32546","statearr-32547","cljs.core.range.cljs$core$IFn$_invoke$arity$2","cljs.core/first","cljs.core/rest","js/mecca.music.loading-samples","mecca.music/loading-samples","state_32557","state_val_32558","inst_32548","cljs.core/PersistentVector","inst_32549","statearr-32559","inst_32551","inst_32552","inst_32553","inst_32554","inst_32555","statearr-32560","statearr-32561","e32562","statearr-32563","statearr-32564","mecca.music/add-semitone","rate","js/Math","mecca.music/sub-semitone","mecca.music/inc-rate","semis","cljs.core.reduce.cljs$core$IFn$_invoke$arity$2","cljs.core.repeat.cljs$core$IFn$_invoke$arity$2","mecca.music/dec-rate","mecca.music/pitch->rate","midi-num","mecca.music/play-note","pitch","context","G__32565","samples","G__32566","instrument","G__32567","audio-buffer","cljs.core.get.cljs$core$IFn$_invoke$arity$2","sample-source","mecca.music/play-sample","G__32568","G__32569","compressor","analyser","mecca.music/play-at","time","G__32570","G__32571","mecca.music/delay-note","beats","note","p1__32572#","cljs.core.update.cljs$core$IFn$_invoke$arity$3","mecca.music/advance-note","p1__32573#","mecca.music/queue-section","from","to","G__32576","G__32577","tempo","G__32578","section","p1__32574#","advanced","p1__32575#","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","iter__4582__auto__","s__32580","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4580__auto__","size__4581__auto__","b__32582","cljs.core/chunk-buffer","i__32581","map__32583","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/PROTOCOL_SENTINEL","cljs.core/hash-map","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__32579","cljs.core/chunk-rest","map__32585","cljs.core/cons","mecca.music/play-section","G__32589","G__32590","G__32591","p1__32587#","p1__32588#","s__32593","b__32595","i__32594","map__32596","iter__32592","map__32598","mecca.music/play-notes","n","editor-start","G__32600","G__32601","G__32602","play-pos","G__32603","mecca.music/play-from-here","G__32605","G__32606","p1__32604#","mecca.music/play-song!","G__32607","G__32608","G__32609","G__32610","s__32612","b__32614","i__32613","map__32615","iter__32611","map__32617","mecca.music/get-bytes!","freq-data","p1__32619#","G__32620","mecca.music/loop-notes","p1__32621#","cljs.core.into.cljs$core$IFn$_invoke$arity$2","p1__32622#","G__32623","mecca.songs.stmp/stmp","cljs.core/chunk-first"]]],"~:cache-keys",["~#cmap",[["~:shadow.build.npm/resource","node_modules/react-dom/index.js"],[1638066703000,1638066703000,1638066647248,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^I",[]],"~:deps-syms",["~$shadow.js","~$module$node_modules$react_dom$cjs$react_dom_production_min","~$module$node_modules$react_dom$cjs$react_dom_development"]]],["^1D","reagent/impl/batching.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","~$reagent.debug","~$reagent.interop","~$reagent.impl.util","^X"]]],["^1D","goog/dom/tagname.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","~$goog.dom.HtmlElement"]]],["^1D","cljs/core/async/impl/ioc_helpers.cljs"],[1638066695092,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","~$cljs.core.async.impl.protocols"]]],["^1D","goog/labs/useragent/platform.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","~$goog.labs.userAgent.util","~$goog.string"]]],["^1D","cljs/core/async.cljs"],[1638066695092,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^21","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers","~$goog.array"]]],["^1D","goog/math/math.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","~$goog.asserts"]]],["^1D","goog/html/trustedtypes.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","goog/labs/useragent/browser.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^22","~$goog.object","~$goog.string.internal"]]],["^1D","goog/html/safeurl.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^2<"]]],["^1D","re_frame/loggers.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","~$clojure.set"]]],["^1D","goog/array/array.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:"]]],["^1Q","node_modules/prop-types/checkPropTypes.js"],[1638066703000,1638066703000,1638066647380,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","~$module$node_modules$prop_types$lib$ReactPropTypesSecret"]]],["^1D","reagent/impl/util.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^1Y","^1Z","^X"]]],["^1D","goog/useragent/useragent.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^22","~$goog.reflect","^23"]]],["^1D","re_frame/router.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","~$re-frame.events","~$re-frame.interop","~$re-frame.loggers","~$re-frame.trace"]]],["^1Q","node_modules/fbjs/lib/emptyFunction.js"],[1638066703000,1638066703000,1638066648184,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1D","goog/debug/error.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","re_frame/registrar.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^2J","^2K"]]],["^1D","mecca/songs/oohchild.cljs"],[1639694398907,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S"]]],["^1Q","node_modules/fbjs/lib/emptyObject.js"],[1638066703000,1638066703000,1638066648168,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1D","goog/dom/nodetype.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1Q","node_modules/scheduler/cjs/scheduler.development.js"],[1638066703000,1638066703000,1638066647760,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1D","mecca/songs/popcorn.cljs"],[1638549111807,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^R"]]],["^1D","reagent/ratom.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^1[","^1Y","~$reagent.impl.batching","^2C"]]],["^1Q","node_modules/scheduler/cjs/scheduler.production.min.js"],[1638066703000,1638066703000,1638066647764,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1D","re_frame/interop.cljs"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","~$goog.async.nextTick","~$reagent.core","~$reagent.ratom"]]],["^1D","goog/string/typedstring.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1Q","node_modules/scheduler/cjs/scheduler-tracing.production.min.js"],[1638066703000,1638066703000,1638066647532,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1Q","node_modules/create-react-class/factory.js"],[1638066703000,1638066703000,1638066648040,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","~$module$node_modules$object_assign$index","~$module$node_modules$fbjs$lib$emptyObject","~$module$node_modules$fbjs$lib$invariant","~$module$node_modules$fbjs$lib$warning"]]],["^1Q","node_modules/react/index.js"],[1638066703000,1638066703000,1638066647516,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","~$module$node_modules$react$cjs$react_production_min","~$module$node_modules$react$cjs$react_development"]]],["^1D","shadow/js.js"],[1638066703152,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","goog/object/object.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","reagent/impl/template.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^?","^X","~$clojure.walk","^1[","~$reagent.impl.component","^2M","^2P","^1Z","^1Y"]]],["^1D","goog/dom/asserts.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:"]]],["^1Q","node_modules/react-dom/cjs/react-dom.production.min.js"],[1638066703000,1638066703000,1638066648560,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","^?","^2Q","~$module$node_modules$scheduler$index"]]],"~:SHADOW-TIMESTAMP",[1638066703000,1638066699000],["^1Q","node_modules/react/cjs/react.development.js"],[1638066703000,1638066703000,1638066647896,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","^2Q","~$module$node_modules$prop_types$checkPropTypes"]]],["^1D","re_frame/events.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","~$re-frame.db","~$re-frame.utils","^2J","~$re-frame.registrar","^2K","~$re-frame.interceptor","^2L"]]],["^1D","goog/math/long.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:","^2H"]]],["^1D","goog/html/trustedresourceurl.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:","~$goog.html.trustedtypes","^2?","^2@","^2A","^2B"]]],["^1D","cljs/core/async/impl/channels.cljs"],[1638066695092,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^21","^27","^25"]]],["^1D","goog/string/internal.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1Q","node_modules/scheduler/cjs/scheduler-tracing.development.js"],[1638066703000,1638066703000,1638066647496,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1Q","node_modules/fbjs/lib/warning.js"],[1638066703000,1638066703000,1638066648620,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","~$module$node_modules$fbjs$lib$emptyFunction"]]],["^1D","goog/functions/functions.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","cljs/core/async/impl/dispatch.cljs"],[1638066695092,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^25","^2N"]]],["^1D","goog/html/safestyle.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2:","~$goog.html.SafeUrl","^2A","^2B","^2<"]]],["^1D","goog/dom/safe.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","~$goog.html.SafeScript","~$goog.html.SafeStyle","^36","^2>","~$goog.html.uncheckedconversions","^2A","^2<"]]],["^1D","reagent/impl/component.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^A","^?","^1[","^2M","^2P","^1Z","^1Y"]]],["^1D","clojure/walk.cljs"],[1638066699392,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S"]]],["^1D","cljs/core/async/impl/protocols.cljs"],[1638066695092,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S"]]],["^1D","mecca/songs/stmp.cljs"],[1639779787096,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S"]]],["^1D","goog/structs/map.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^1D","goog/html/safehtml.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2:","~$goog.dom.TagName","~$goog.dom.tags","^3:","^3;","~$goog.html.SafeStyleSheet","^36","^2>","^34","^2?","^2@","^2E","^2;","^2A","^2B","^2<"]]],["^1D","goog/dom/tags.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2;"]]],["^1D","goog/math/size.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1Q","node_modules/scheduler/index.js"],[1638066703000,1638066703000,1638066647248,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","~$module$node_modules$scheduler$cjs$scheduler_production_min","~$module$node_modules$scheduler$cjs$scheduler_development"]]],["^1D","goog/labs/useragent/engine.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^22","^23"]]],["^1D","goog/dom/dom.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2:","~$goog.dom.BrowserFeature","~$goog.dom.NodeType","^3?","~$goog.dom.safe","^39","^3<","~$goog.math.Coordinate","~$goog.math.Size","^2;","^23","~$goog.string.Unicode","~$goog.userAgent"]]],["^1D","goog/asserts/asserts.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","~$goog.debug.Error","^3E"]]],["^1D","cljs/core/async/impl/buffers.cljs"],[1638066695092,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^21"]]],["^1D","goog/uri/uri.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2:","^23","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1D","goog/i18n/bidi.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1Q","node_modules/object-assign/index.js"],[1638066703000,1638066703000,1638066647184,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1D","re_frame/db.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^2J"]]],["^1D","cljs/core/async/impl/timers.cljs"],[1638066695092,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^21","^24","^27"]]],["^1D","goog/fs/url.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","goog/base.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",[]]],["^1D","goog/structs/structs.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2;"]]],["^1D","clojure/string.cljs"],[1638066699392,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^23","~$goog.string.StringBuffer"]]],["^1Q","node_modules/create-react-class/index.js"],[1638066703000,1638066703000,1638066648160,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","^?","~$module$node_modules$create_react_class$factory"]]],["^1D","re_frame/cofx.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^30","^33","^32","^2K"]]],["^1Q","node_modules/react/cjs/react.production.min.js"],[1638066703000,1638066703000,1638066647940,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","^2Q"]]],["^1D","goog/debug/entrypointregistry.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:"]]],["^1D","goog/string/string.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^3F","^3<","^2A","^2<"]]],["^1D","re_frame/interceptor.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^2K","^2J","^2L","^2C"]]],["^1D","clojure/data.cljs"],[1638066699392,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^2C"]]],["^1D","goog/reflect/reflect.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","goog/labs/useragent/util.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2<"]]],["^1D","reagent/core.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^?","~$reagent.impl.template","^2X","^1[","^2M","^2P","^1Y","^1Z","~$reagent.dom"]]],["^1D","goog/string/stringbuffer.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","goog/math/coordinate.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","~$goog.math"]]],["^1D","re_frame/std_interceptors.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^33","^2K","^32","^30","~$clojure.data","~$re-frame.cofx","^31","^2L"]]],["^1D","goog/iter/iter.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2:","^38","^3U"]]],["^1D","goog/async/nexttick.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","~$goog.debug.entryPointRegistry","~$goog.dom","^3?","^3F","^38","^39","^2>","^2E","^2F","^2A"]]],["^1D","goog/html/uncheckedconversions.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:","^39","^3:","^3;","^3A","^36","^2>","^2A","^2<"]]],["^1D","re_frame/utils.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^2K"]]],["^1D","reagent/dom.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^C","^1[","^3S","^2M","^2P","^1Y","^1Z"]]],["^1D","re_frame/fx.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","~$re-frame.router","^30","^33","^2J","^2I","^32","^2K","^2L"]]],["^1Q","node_modules/prop-types/lib/ReactPropTypesSecret.js"],[1638066703000,1638066703000,1638066647756,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1D","reagent/interop.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S"]]],["^1D","goog/dom/htmlelement.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T"]]],["^1D","cljs/core.cljs"],[1638066699392,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["~$goog.math.Long","~$goog.math.Integer","^23","^2;","^29","~$goog.Uri","^3Q"]]],["^1D","goog/html/safescript.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:","^34","^2A","^2B"]]],["^1D","reagent/debug.cljs"],[1634595893137,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S"]]],["^1D","goog/html/safestylesheet.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2:","^3;","^2;","^2A","^2B","^2<"]]],["^1D","mecca/music.cljs"],[1639779864419,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^X","^U","^Y","^P","^V","^R"]]],["^1D","goog/math/integer.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2H"]]],["^1D","goog/dom/browserfeature.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^3J"]]],["^1Q","node_modules/scheduler/tracing.js"],[1638066703000,1638066703000,1638066647424,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","~$module$node_modules$scheduler$cjs$scheduler_tracing_production_min","~$module$node_modules$scheduler$cjs$scheduler_tracing_development"]]],["^1Q","node_modules/react-dom/cjs/react-dom.development.js"],[1638066703000,1638066703000,1638066648540,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V","^?","^2Q","^2Y","^2[","~$module$node_modules$scheduler$tracing"]]],["^1D","clojure/set.cljs"],[1638066699392,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S"]]],["^1D","goog/uri/utils.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^29","^2:","^23"]]],["^1D","goog/string/const.js"],[1637516872222,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^2:","^2B"]]],["^1Q","node_modules/fbjs/lib/invariant.js"],[1638066703000,1638066703000,1638066648432,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^1V"]]],["^1D","re_frame/trace.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^2J","^2K","^38"]]],["^1D","re_frame/subs.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^30","^2J","^2K","^31","^32","^2L"]]],["^1D","re_frame/core.cljc"],[1634595893145,"^1R",["^ ","^1S",null,"^1T",["^I",[]],"^1U",["^T","^S","^2I","~$re-frame.subs","^2J","^30","~$re-frame.fx","^3W","^3Z","^2K","^32","^33","~$re-frame.std-interceptors","^2C"]]]]],"~:clj-info",["^ ","jar:file:/home/bob/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/interop.clj",1634595893000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/core.cljc",1638066699000,"jar:file:/home/bob/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/trace.cljc",1634595893000,"jar:file:/home/bob/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/debug.clj",1634595893000,"jar:file:/home/bob/.m2/repository/org/clojure/data.json/0.2.6/data.json-0.2.6.jar!/clojure/data/json.clj",1634595886000,"jar:file:/home/bob/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader.clj",1635902810000,"jar:file:/home/bob/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/dispatch.clj",1638066695000,"jar:file:/home/bob/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/errors.clj",1635902810000,"jar:file:/home/bob/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/macros.clj",1638066695000,"jar:file:/home/bob/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async.clj",1638066695000,"jar:file:/home/bob/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1635207237000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/util.cljc",1638066699000,"jar:file:/home/bob/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1635207237000,"jar:file:/home/bob/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1635207237000,"jar:file:/home/bob/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/exec/threadpool.clj",1638066695000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/compiler.cljc",1638066699000,"jar:file:/home/bob/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/impl/ioc_macros.clj",1638066695000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/tagged_literals.cljc",1638066699000,"jar:file:/home/bob/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/protocols.clj",1638066695000,"jar:file:/home/bob/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/inspect.clj",1635902810000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/js_deps.cljc",1638066699000,"jar:file:/home/bob/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1635207237000,"jar:file:/home/bob/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/default_data_readers.clj",1635902810000,"jar:file:/home/bob/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/ratom.clj",1634595893000,"jar:file:/home/bob/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1635207237000,"jar:file:/home/bob/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/interop.clj",1634595893000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/env.cljc",1638066699000,"jar:file:/home/bob/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar!/net/cgrand/macrovich.cljc",1634595892000,"jar:file:/home/bob/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/reader_types.clj",1635902810000,"jar:file:/home/bob/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1635207237000,"jar:file:/home/bob/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1635207237000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/externs.clj",1638066699000,"jar:file:/home/bob/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/core.clj",1634595893000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map.clj",1638066699000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64_vlq.clj",1638066699000,"jar:file:/home/bob/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/concurrent.clj",1638066695000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64.clj",1638066699000,"jar:file:/home/bob/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/analyzer.cljc",1638066699000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","mecca/music.cljs","^7",1,"^8",5,"^9",1,"^:",16],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",["^ ","^E","^F","^G","^F"],"^H",["^I",[]],"^J","^K","^N",null,"^O",["^ ","^P","^P","^Q","^R","^S","^S","^T","^T","^U","^U","^V","^V","^W","^X","^X","^X","^R","^R","^Y","^Y"],"^Z",["^I",["^[","^10"]],"~:shadow/js-access-global",["^I",["XMLHttpRequest","Object","Math","setInterval"]],"^11",["^ ","^12","^R","^13","^U","^14","^U","^15","^U","^16","^P","^17","^Y","^18","^R","^19","^V","^1:","^U"],"~:defs",["^ ","~$get-bytes!",["^ ","~:protocol-inline",null,"^5",["^ ","^6","mecca/music.cljs","^7",217,"^8",7,"^9",217,"^:",17,"~:arglists",["^1<",["~$quote",["^1<",[["~$analyser","~$freq-data"]]]]]],"^J","~$mecca.music/get-bytes!","^6","mecca/music.cljs","^:",17,"~:method-params",["^1<",[["^5:","^5;"]]],"~:protocol-impl",null,"~:arglists-meta",["^1<",[null,null]],"^8",1,"~:variadic?",false,"^7",217,"^9",217,"~:max-fixed-arity",2,"~:fn-var",true,"^58",["^1<",["^59",["^1<",[["^5:","^5;"]]]]]],"~$load-samples",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",86,"^8",7,"^9",86,"^:",19,"^58",["^1<",["^59",["^1<",[[]]]]]],"^J","~$mecca.music/load-samples","^6","mecca/music.cljs","^:",19,"^5=",["^1<",[[]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",86,"~:ret-tag","~$any","^9",86,"^5A",0,"^5B",true,"^58",["^1<",["^59",["^1<",[[]]]]]],"~$dec-rate",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",113,"^8",7,"^9",113,"^:",15,"^58",["^1<",["^59",["^1<",[["~$semis"]]]]]],"^J","~$mecca.music/dec-rate","^6","mecca/music.cljs","^:",15,"^5=",["^1<",[["^5H"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",113,"^5E","^5F","^9",113,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5H"]]]]]],"~$load-sound",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",48,"^8",7,"^9",48,"^:",17,"^58",["^1<",["^59",["^1<",[["~$named-url"]]]]]],"^J","~$mecca.music/load-sound","^6","mecca/music.cljs","^:",17,"^5=",["^1<",[["^5K"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",48,"^5E","^5F","^9",48,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5K"]]]]]],"~$decode",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",61,"^8",7,"^9",61,"^:",13,"^58",["^1<",["^59",["^1<",[["^5K"]]]]]],"^J","~$mecca.music/decode","^6","mecca/music.cljs","^:",13,"^5=",["^1<",[["^5K"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",61,"^5E","^5F","^9",61,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5K"]]]]]],"~$loading-samples",["^ ","^J","~$mecca.music/loading-samples","^6","mecca/music.cljs","^7",99,"^8",1,"^9",99,"^:",25,"^5",["^ ","^6","mecca/music.cljs","^7",99,"^8",10,"^9",99,"^:",25],"~:tag","^5F"],"~$play-at",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",153,"^8",7,"^9",153,"^:",14,"^58",["^1<",["^59",["^1<",[["~$instrument","~$pitch","~$time"]]]]]],"^J","~$mecca.music/play-at","^6","mecca/music.cljs","^:",14,"^5=",["^1<",[["^5S","^5T","^5U"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",153,"^5E","^5F","^9",153,"^5A",3,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5S","^5T","^5U"]]]]]],"~$sub-semitone",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",107,"^8",7,"^9",107,"^:",19,"^58",["^1<",["^59",["^1<",[["~$rate"]]]]]],"^J","~$mecca.music/sub-semitone","^6","mecca/music.cljs","^:",19,"^5=",["^1<",[["^5X"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",107,"^5E","~$number","^9",107,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5X"]]]]]],"~$pitch->rate",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",116,"^8",7,"^9",116,"^:",18,"^58",["^1<",["^59",["^1<",[["~$midi-num"]]]]]],"^J","~$mecca.music/pitch->rate","^6","mecca/music.cljs","^:",18,"^5=",["^1<",[["^60"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",116,"^5E","^5F","^9",116,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^60"]]]]]],"~$play-note",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",121,"^8",7,"^9",121,"^:",16,"^58",["^1<",["^59",["^1<",[["^5T"]]]]]],"^J","~$mecca.music/play-note","^6","mecca/music.cljs","^:",16,"^5=",["^1<",[["^5T"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",121,"^5E","^5F","^9",121,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5T"]]]]]],"~$advance-note",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",170,"^8",7,"^9",170,"^:",19,"^58",["^1<",["^59",["^1<",[["~$beats","~$note"]]]]]],"^J","~$mecca.music/advance-note","^6","mecca/music.cljs","^:",19,"^5=",["^1<",[["^65","^66"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",170,"^5E",["^I",["~$clj","^5F"]],"^9",170,"^5A",2,"^5B",true,"^58",["^1<",["^59",["^1<",[["^65","^66"]]]]]],"~$play-sample",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",136,"^8",7,"^9",136,"^:",18,"^58",["^1<",["^59",["^1<",[["^5S","^5T"]]]]]],"^J","~$mecca.music/play-sample","^6","mecca/music.cljs","^:",18,"^5=",["^1<",[["^5S","^5T"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",136,"^5E","^5F","^9",136,"^5A",2,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5S","^5T"]]]]]],"~$play-from-here",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",200,"^8",7,"^9",200,"^:",21,"^58",["^1<",["^59",["^1<",[[]]]]]],"^J","~$mecca.music/play-from-here","^6","mecca/music.cljs","^:",21,"^5=",["^1<",[[]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",200,"^5E","^5F","^9",200,"^5A",0,"^5B",true,"^58",["^1<",["^59",["^1<",[[]]]]]],"~$mario-jump",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",12,"^8",7,"^9",12,"^:",17,"^58",["^1<",["^59",["^1<",[[]]]]]],"^J","~$mecca.music/mario-jump","^6","mecca/music.cljs","^:",17,"^5=",["^1<",[[]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",12,"^5E",["^I",["^5F","~$clj-nil"]],"^9",12,"^5A",0,"^5B",true,"^58",["^1<",["^59",["^1<",[[]]]]]],"~$play-song!",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",209,"^8",7,"^9",209,"^:",17,"^58",["^1<",["^59",["^1<",[[]]]]]],"^J","~$mecca.music/play-song!","^6","mecca/music.cljs","^:",17,"^5=",["^1<",[[]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",209,"^5E","^5F","^9",209,"^5A",0,"^5B",true,"^58",["^1<",["^59",["^1<",[[]]]]]],"~$queue-section",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",173,"^8",7,"^9",173,"^:",20,"^58",["^1<",["^59",["^1<",[["~$from","~$to"]]]]]],"^J","~$mecca.music/queue-section","^6","mecca/music.cljs","^:",20,"^5=",["^1<",[["^6C","^6D"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",173,"^5E","^5F","^9",173,"^5A",2,"^5B",true,"^58",["^1<",["^59",["^1<",[["^6C","^6D"]]]]]],"~$buffer-source",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",76,"^8",7,"^9",76,"^:",20,"^58",["^1<",["^59",["^1<",[["~$buffer"]]]]]],"^J","~$mecca.music/buffer-source","^6","mecca/music.cljs","^:",20,"^5=",["^1<",[["^6G"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",76,"^5E","^5F","^9",76,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^6G"]]]]]],"~$play-section",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",182,"^8",7,"^9",182,"^:",19,"^58",["^1<",["^59",["^1<",[["^6C","^6D"]]]]]],"^J","~$mecca.music/play-section","^6","mecca/music.cljs","^:",19,"^5=",["^1<",[["^6C","^6D"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",182,"^5E","^5F","^9",182,"^5A",2,"^5B",true,"^58",["^1<",["^59",["^1<",[["^6C","^6D"]]]]]],"~$get-and-decode",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",81,"^8",7,"^9",81,"^:",21,"^58",["^1<",["^59",["^1<",[["^5K"]]]]]],"^J","~$mecca.music/get-and-decode","^6","mecca/music.cljs","^:",21,"^5=",["^1<",[["^5K"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",81,"^5E","^5F","^9",81,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5K"]]]]]],"~$do-timer",["^ ","^J","~$mecca.music/do-timer","^6","mecca/music.cljs","^7",45,"^8",1,"^9",45,"^:",18,"^5",["^ ","^6","mecca/music.cljs","^7",45,"^8",10,"^9",45,"^:",18],"^5Q","~$js"],"~$play-notes",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",191,"^8",7,"^9",191,"^:",17,"^58",["^1<",["^59",["^1<",[["~$n"]]]]]],"^J","~$mecca.music/play-notes","^6","mecca/music.cljs","^:",17,"^5=",["^1<",[["~$n"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",191,"^5E","^5F","^9",191,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["~$n"]]]]]],"~$loop-notes",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",224,"^8",7,"^9",224,"^:",17,"^58",["^1<",["^59",["^1<",[["~$notes"]]]]]],"^J","~$mecca.music/loop-notes","^6","mecca/music.cljs","^:",17,"^5=",["^1<",[["^6S"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",224,"^5E",["^I",[null,"^68","^5F"]],"^9",224,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^6S"]]]]]],"~$inc-rate",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",110,"^8",7,"^9",110,"^:",15,"^58",["^1<",["^59",["^1<",[["^5H"]]]]]],"^J","~$mecca.music/inc-rate","^6","mecca/music.cljs","^:",15,"^5=",["^1<",[["^5H"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",110,"^5E","^5F","^9",110,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5H"]]]]]],"~$dispatch-timer-event",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",41,"^8",7,"^9",41,"^:",27,"^58",["^1<",["^59",["^1<",[[]]]]]],"^J","~$mecca.music/dispatch-timer-event","^6","mecca/music.cljs","^:",27,"^5=",["^1<",[[]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",41,"^5E",["^I",["^5F","^6?"]],"^9",41,"^5A",0,"^5B",true,"^58",["^1<",["^59",["^1<",[[]]]]]],"~$add-semitone",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",104,"^8",7,"^9",104,"^:",19,"^58",["^1<",["^59",["^1<",[["^5X"]]]]]],"^J","~$mecca.music/add-semitone","^6","mecca/music.cljs","^:",19,"^5=",["^1<",[["^5X"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",104,"^5E","^5Z","^9",104,"^5A",1,"^5B",true,"^58",["^1<",["^59",["^1<",[["^5X"]]]]]],"~$mario-move",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",22,"^8",7,"^9",22,"^:",17,"^58",["^1<",["^59",["^1<",[[]]]]]],"^J","~$mecca.music/mario-move","^6","mecca/music.cljs","^:",17,"^5=",["^1<",[[]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",22,"^5E",["^I",["^5F","^6?"]],"^9",22,"^5A",0,"^5B",true,"^58",["^1<",["^59",["^1<",[[]]]]]],"~$delay-note",["^ ","^57",null,"^5",["^ ","^6","mecca/music.cljs","^7",167,"^8",7,"^9",167,"^:",17,"^58",["^1<",["^59",["^1<",[["^65","^66"]]]]]],"^J","~$mecca.music/delay-note","^6","mecca/music.cljs","^:",17,"^5=",["^1<",[["^65","^66"]]],"^5>",null,"^5?",["^1<",[null,null]],"^8",1,"^5@",false,"^7",167,"^5E",["^I",["^68","^5F"]],"^9",167,"^5A",2,"^5B",true,"^58",["^1<",["^59",["^1<",[["^65","^66"]]]]]]],"^10",["^ ","^F","^F","^S","^S","^U","^U"],"~:cljs.analyzer/constants",["^ ","^Z",["^I",["~:jump!","~:samples","~:editor-beat-start","~:sound","~:advance-position","~:instrument","~:play-off","~:else","~:mario-jump","~:time","~:play-start","~:set-notes","~:recur","~:decoded-buffer","~:pitch","~:tick!","~:playing?","~:reset-position","~:notes","~:url","~:audio-context","~:load-samples","~:tempo","~:move-mario","~:buffer","~:current-position"]],"~:order",["^7M","^7F","^7<","^7D","^7=","^74","^7H","^7>","^7J","^7:","^7K","^78","^7C","^7L","^7G","^7A","^7@","^7;","^77","^7I","^75","^79","^7B","^76","^7E","^7?"]],"^1@",["^ ","^[",["^I",[]],"^10",["^I",[]]],"^1A",["^ "],"^1B",["^T","^S","^X","^U","^Y","^P","^V","^R"]],"^M","^K","~:ns-specs",["^ "],"~:ns-spec-vars",["^I",[]],"~:compiler-options",["^1P",[["^7Q","~:static-fns"],true,["^7Q","~:shadow-tweaks"],null,["^7Q","~:elide-asserts"],false,["^7Q","~:optimize-constants"],null,["^7Q","^1G"],null,["^7Q","~:external-config"],null,["^7Q","~:tooling-config"],null,["^7Q","~:emit-constants"],null,["^7Q","~:load-tests"],null,["^7Q","~:form-size-threshold"],null,["^7Q","~:infer-externs"],true,["^7Q","^1I"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^7Q","~:fn-invoke-direct"],null,["^7Q","~:source-map"],"/dev/null"]]]
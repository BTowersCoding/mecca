["^ ","~:output",["^ ","~:js","goog.provide('mecca.music');\r\ngoog.require('cljs.core');\r\ngoog.require('cljs.core.async');\r\ngoog.require('re_frame.core');\r\nmecca.music.mario_jump = (function mecca$music$mario_jump(){\r\nvar beat = (function (){var G__71477 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71477) : re_frame.core.subscribe.call(null,G__71477));\r\n})();\r\nvar notes = (function (){var G__71478 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71478) : re_frame.core.subscribe.call(null,G__71478));\r\n})();\r\nvar jump = (function (){var G__71479 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71479) : re_frame.core.subscribe.call(null,G__71479));\r\n})();\r\nif(cljs.core.truth_((function (){var and__4174__auto__ = cljs.core.deref((function (){var G__71482 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71482) : re_frame.core.subscribe.call(null,G__71482));\r\n})());\r\nif(cljs.core.truth_(and__4174__auto__)){\r\nreturn (cljs.core.deref(jump) === (0));\r\n} else {\r\nreturn and__4174__auto__;\r\n}\r\n})())){\r\nif(((0) < cljs.core.count(cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__71476_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__71476_SHARP_),(cljs.core.deref(beat) + (1)));\r\n}),cljs.core.deref(notes))))){\r\nvar G__71483 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"jump!\",\"jump!\",-1168155200)], null);\r\nreturn (re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__71483) : re_frame.core.dispatch.call(null,G__71483));\r\n} else {\r\nreturn null;\r\n}\r\n} else {\r\nreturn null;\r\n}\r\n});\r\nmecca.music.mario_move = (function mecca$music$mario_move(){\r\nvar notes = (function (){var G__71485 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71485) : re_frame.core.subscribe.call(null,G__71485));\r\n})();\r\nvar playing_QMARK_ = cljs.core.deref((function (){var G__71486 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71486) : re_frame.core.subscribe.call(null,G__71486));\r\n})());\r\nvar now = cljs.core.deref((function (){var G__71487 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71487) : re_frame.core.subscribe.call(null,G__71487));\r\n})()).currentTime;\r\nvar length = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__71484_SHARP_){\r\nreturn new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__71484_SHARP_);\r\n}),cljs.core.deref(notes)));\r\nvar started = (function (){var G__71488 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71488) : re_frame.core.subscribe.call(null,G__71488));\r\n})();\r\nvar elapsed = (now - cljs.core.deref(started));\r\nvar beat_length = ((60) / cljs.core.deref((function (){var G__71489 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71489) : re_frame.core.subscribe.call(null,G__71489));\r\n})()));\r\nvar end_time = (cljs.core.deref(started) + (beat_length * (4)));\r\nvar current_beat = (elapsed / beat_length);\r\nvar last_drawn_pos = (function (){var G__71490 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71490) : re_frame.core.subscribe.call(null,G__71490));\r\n})();\r\nif(cljs.core.truth_(playing_QMARK_)){\r\nif((length < current_beat)){\r\nvar G__71491_71651 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-off\",\"play-off\",2116693509)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__71491_71651) : re_frame.core.dispatch.call(null,G__71491_71651));\r\n} else {\r\nif((cljs.core.deref(last_drawn_pos) < current_beat)){\r\nvar G__71492_71652 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"move-mario\",\"move-mario\",-317739908)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__71492_71652) : re_frame.core.dispatch.call(null,G__71492_71652));\r\n\r\nvar G__71493_71653 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"advance-position\",\"advance-position\",-23796893)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__71493_71653) : re_frame.core.dispatch.call(null,G__71493_71653));\r\n} else {\r\n}\r\n}\r\n} else {\r\n}\r\n\r\nreturn mecca.music.mario_jump();\r\n});\r\nmecca.music.dispatch_timer_event = (function mecca$music$dispatch_timer_event(){\r\nvar G__71494_71654 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tick!\",\"tick!\",68058958)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__71494_71654) : re_frame.core.dispatch.call(null,G__71494_71654));\r\n\r\nreturn mecca.music.mario_move();\r\n});\r\nif((typeof mecca !== 'undefined') && (typeof mecca.music !== 'undefined') && (typeof mecca.music.do_timer !== 'undefined')){\r\n} else {\r\nmecca.music.do_timer = setInterval(mecca.music.dispatch_timer_event,(60));\r\n}\r\nmecca.music.load_sound = (function mecca$music$load_sound(named_url){\r\nvar out = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\r\nvar req = (new XMLHttpRequest());\r\n(req.responseType = \"arraybuffer\");\r\n\r\n(req.onload = (function (e){\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(req.status,(200))){\r\ncljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(out,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(named_url,new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198),req.response));\r\n\r\nreturn cljs.core.async.close_BANG_(out);\r\n} else {\r\nreturn cljs.core.async.close_BANG_(out);\r\n}\r\n}));\r\n\r\nreq.open(\"GET\",new cljs.core.Keyword(null,\"url\",\"url\",276297046).cljs$core$IFn$_invoke$arity$1(named_url),true);\r\n\r\nreq.send();\r\n\r\nreturn out;\r\n});\r\nmecca.music.decode = (function mecca$music$decode(named_url){\r\nvar out = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\r\nif(cljs.core.truth_(new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198).cljs$core$IFn$_invoke$arity$1(named_url))){\r\ncljs.core.deref((function (){var G__71495 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71495) : re_frame.core.subscribe.call(null,G__71495));\r\n})()).decodeAudioData(new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198).cljs$core$IFn$_invoke$arity$1(named_url),(function (decoded_buffer){\r\ncljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(out,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(named_url,new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700),decoded_buffer));\r\n\r\nreturn cljs.core.async.close_BANG_(out);\r\n}),(function (){\r\nconsole.error(\"Error loading file \",cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([named_url], 0)));\r\n\r\nreturn cljs.core.async.close_BANG_(out);\r\n}));\r\n} else {\r\ncljs.core.async.close_BANG_(out);\r\n}\r\n\r\nreturn out;\r\n});\r\nmecca.music.buffer_source = (function mecca$music$buffer_source(buffer){\r\nvar source = cljs.core.deref((function (){var G__71496 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71496) : re_frame.core.subscribe.call(null,G__71496));\r\n})()).createBufferSource();\r\n(source.buffer = buffer);\r\n\r\nreturn source;\r\n});\r\nmecca.music.get_and_decode = (function mecca$music$get_and_decode(named_url){\r\nvar c__29789__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\r\ncljs.core.async.impl.dispatch.run((function (){\r\nvar f__29790__auto__ = (function (){var switch__29585__auto__ = (function (state_71508){\r\nvar state_val_71509 = (state_71508[(1)]);\r\nif((state_val_71509 === (1))){\r\nvar inst_71497 = mecca.music.load_sound(named_url);\r\nvar state_71508__$1 = state_71508;\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_71508__$1,(2),inst_71497);\r\n} else {\r\nif((state_val_71509 === (2))){\r\nvar inst_71499 = (state_71508[(7)]);\r\nvar inst_71499__$1 = (state_71508[(2)]);\r\nvar state_71508__$1 = (function (){var statearr_71510 = state_71508;\r\n(statearr_71510[(7)] = inst_71499__$1);\r\n\r\nreturn statearr_71510;\r\n})();\r\nif(cljs.core.truth_(inst_71499__$1)){\r\nvar statearr_71511_71657 = state_71508__$1;\r\n(statearr_71511_71657[(1)] = (3));\r\n\r\n} else {\r\nvar statearr_71512_71658 = state_71508__$1;\r\n(statearr_71512_71658[(1)] = (4));\r\n\r\n}\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_71509 === (3))){\r\nvar inst_71499 = (state_71508[(7)]);\r\nvar inst_71501 = mecca.music.decode(inst_71499);\r\nvar state_71508__$1 = state_71508;\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_71508__$1,(6),inst_71501);\r\n} else {\r\nif((state_val_71509 === (4))){\r\nvar state_71508__$1 = state_71508;\r\nvar statearr_71513_71661 = state_71508__$1;\r\n(statearr_71513_71661[(2)] = null);\r\n\r\n(statearr_71513_71661[(1)] = (5));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_71509 === (5))){\r\nvar inst_71506 = (state_71508[(2)]);\r\nvar state_71508__$1 = state_71508;\r\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_71508__$1,inst_71506);\r\n} else {\r\nif((state_val_71509 === (6))){\r\nvar inst_71503 = (state_71508[(2)]);\r\nvar state_71508__$1 = state_71508;\r\nvar statearr_71514_71662 = state_71508__$1;\r\n(statearr_71514_71662[(2)] = inst_71503);\r\n\r\n(statearr_71514_71662[(1)] = (5));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nreturn null;\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n});\r\nreturn (function() {\r\nvar mecca$music$get_and_decode_$_state_machine__29586__auto__ = null;\r\nvar mecca$music$get_and_decode_$_state_machine__29586__auto____0 = (function (){\r\nvar statearr_71515 = [null,null,null,null,null,null,null,null];\r\n(statearr_71515[(0)] = mecca$music$get_and_decode_$_state_machine__29586__auto__);\r\n\r\n(statearr_71515[(1)] = (1));\r\n\r\nreturn statearr_71515;\r\n});\r\nvar mecca$music$get_and_decode_$_state_machine__29586__auto____1 = (function (state_71508){\r\nwhile(true){\r\nvar ret_value__29587__auto__ = (function (){try{while(true){\r\nvar result__29588__auto__ = switch__29585__auto__(state_71508);\r\nif(cljs.core.keyword_identical_QMARK_(result__29588__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\ncontinue;\r\n} else {\r\nreturn result__29588__auto__;\r\n}\r\nbreak;\r\n}\r\n}catch (e71516){if((e71516 instanceof Object)){\r\nvar ex__29589__auto__ = e71516;\r\nvar statearr_71517_71668 = state_71508;\r\n(statearr_71517_71668[(5)] = ex__29589__auto__);\r\n\r\n\r\ncljs.core.async.impl.ioc_helpers.process_exception(state_71508);\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nthrow e71516;\r\n\r\n}\r\n}})();\r\nif(cljs.core.keyword_identical_QMARK_(ret_value__29587__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\nvar G__71669 = state_71508;\r\nstate_71508 = G__71669;\r\ncontinue;\r\n} else {\r\nreturn ret_value__29587__auto__;\r\n}\r\nbreak;\r\n}\r\n});\r\nmecca$music$get_and_decode_$_state_machine__29586__auto__ = function(state_71508){\r\nswitch(arguments.length){\r\ncase 0:\r\nreturn mecca$music$get_and_decode_$_state_machine__29586__auto____0.call(this);\r\ncase 1:\r\nreturn mecca$music$get_and_decode_$_state_machine__29586__auto____1.call(this,state_71508);\r\n}\r\nthrow(new Error('Invalid arity: ' + arguments.length));\r\n};\r\nmecca$music$get_and_decode_$_state_machine__29586__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$get_and_decode_$_state_machine__29586__auto____0;\r\nmecca$music$get_and_decode_$_state_machine__29586__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$get_and_decode_$_state_machine__29586__auto____1;\r\nreturn mecca$music$get_and_decode_$_state_machine__29586__auto__;\r\n})()\r\n})();\r\nvar state__29791__auto__ = (function (){var statearr_71518 = (f__29790__auto__.cljs$core$IFn$_invoke$arity$0 ? f__29790__auto__.cljs$core$IFn$_invoke$arity$0() : f__29790__auto__.call(null));\r\n(statearr_71518[(6)] = c__29789__auto__);\r\n\r\nreturn statearr_71518;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__29791__auto__);\r\n}));\r\n\r\nreturn c__29789__auto__;\r\n});\r\nmecca.music.load_samples = (function mecca$music$load_samples(){\r\nvar c__29789__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\r\ncljs.core.async.impl.dispatch.run((function (){\r\nvar f__29790__auto__ = (function (){var switch__29585__auto__ = (function (state_71547){\r\nvar state_val_71548 = (state_71547[(1)]);\r\nif((state_val_71548 === (1))){\r\nvar inst_71519 = cljs.core.PersistentHashMap.EMPTY;\r\nvar inst_71520 = cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(19));\r\nvar inst_71521 = inst_71519;\r\nvar inst_71522 = inst_71520;\r\nvar state_71547__$1 = (function (){var statearr_71549 = state_71547;\r\n(statearr_71549[(7)] = inst_71521);\r\n\r\n(statearr_71549[(8)] = inst_71522);\r\n\r\nreturn statearr_71549;\r\n})();\r\nvar statearr_71550_71682 = state_71547__$1;\r\n(statearr_71550_71682[(2)] = null);\r\n\r\n(statearr_71550_71682[(1)] = (2));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_71548 === (2))){\r\nvar inst_71522 = (state_71547[(8)]);\r\nvar inst_71524 = cljs.core.first(inst_71522);\r\nvar inst_71525 = (inst_71524 == null);\r\nvar inst_71526 = cljs.core.not(inst_71525);\r\nvar state_71547__$1 = state_71547;\r\nif(inst_71526){\r\nvar statearr_71551_71687 = state_71547__$1;\r\n(statearr_71551_71687[(1)] = (4));\r\n\r\n} else {\r\nvar statearr_71552_71691 = state_71547__$1;\r\n(statearr_71552_71691[(1)] = (5));\r\n\r\n}\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_71548 === (3))){\r\nvar inst_71545 = (state_71547[(2)]);\r\nvar state_71547__$1 = state_71547;\r\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_71547__$1,inst_71545);\r\n} else {\r\nif((state_val_71548 === (4))){\r\nvar inst_71522 = (state_71547[(8)]);\r\nvar inst_71528 = (state_71547[(9)]);\r\nvar inst_71528__$1 = cljs.core.first(inst_71522);\r\nvar inst_71529 = [new cljs.core.Keyword(null,\"url\",\"url\",276297046),new cljs.core.Keyword(null,\"sound\",\"sound\",-2127407070)];\r\nvar inst_71530 = [\"/audio/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(inst_71528__$1),\".mp3\"].join('');\r\nvar inst_71531 = [inst_71530,inst_71528__$1];\r\nvar inst_71532 = cljs.core.PersistentHashMap.fromArrays(inst_71529,inst_71531);\r\nvar inst_71533 = mecca.music.get_and_decode(inst_71532);\r\nvar state_71547__$1 = (function (){var statearr_71553 = state_71547;\r\n(statearr_71553[(9)] = inst_71528__$1);\r\n\r\nreturn statearr_71553;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_71547__$1,(7),inst_71533);\r\n} else {\r\nif((state_val_71548 === (5))){\r\nvar inst_71521 = (state_71547[(7)]);\r\nvar state_71547__$1 = state_71547;\r\nvar statearr_71554_71703 = state_71547__$1;\r\n(statearr_71554_71703[(2)] = inst_71521);\r\n\r\n(statearr_71554_71703[(1)] = (6));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_71548 === (6))){\r\nvar inst_71543 = (state_71547[(2)]);\r\nvar state_71547__$1 = state_71547;\r\nvar statearr_71555_71710 = state_71547__$1;\r\n(statearr_71555_71710[(2)] = inst_71543);\r\n\r\n(statearr_71555_71710[(1)] = (3));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_71548 === (7))){\r\nvar inst_71521 = (state_71547[(7)]);\r\nvar inst_71522 = (state_71547[(8)]);\r\nvar inst_71528 = (state_71547[(9)]);\r\nvar inst_71535 = (state_71547[(2)]);\r\nvar inst_71536 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([inst_71528], 0));\r\nvar inst_71537 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([inst_71535], 0));\r\nvar inst_71538 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(inst_71521,inst_71528,inst_71535);\r\nvar inst_71539 = cljs.core.rest(inst_71522);\r\nvar inst_71521__$1 = inst_71538;\r\nvar inst_71522__$1 = inst_71539;\r\nvar state_71547__$1 = (function (){var statearr_71556 = state_71547;\r\n(statearr_71556[(7)] = inst_71521__$1);\r\n\r\n(statearr_71556[(10)] = inst_71536);\r\n\r\n(statearr_71556[(11)] = inst_71537);\r\n\r\n(statearr_71556[(8)] = inst_71522__$1);\r\n\r\nreturn statearr_71556;\r\n})();\r\nvar statearr_71557_71720 = state_71547__$1;\r\n(statearr_71557_71720[(2)] = null);\r\n\r\n(statearr_71557_71720[(1)] = (2));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nreturn null;\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n});\r\nreturn (function() {\r\nvar mecca$music$load_samples_$_state_machine__29586__auto__ = null;\r\nvar mecca$music$load_samples_$_state_machine__29586__auto____0 = (function (){\r\nvar statearr_71558 = [null,null,null,null,null,null,null,null,null,null,null,null];\r\n(statearr_71558[(0)] = mecca$music$load_samples_$_state_machine__29586__auto__);\r\n\r\n(statearr_71558[(1)] = (1));\r\n\r\nreturn statearr_71558;\r\n});\r\nvar mecca$music$load_samples_$_state_machine__29586__auto____1 = (function (state_71547){\r\nwhile(true){\r\nvar ret_value__29587__auto__ = (function (){try{while(true){\r\nvar result__29588__auto__ = switch__29585__auto__(state_71547);\r\nif(cljs.core.keyword_identical_QMARK_(result__29588__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\ncontinue;\r\n} else {\r\nreturn result__29588__auto__;\r\n}\r\nbreak;\r\n}\r\n}catch (e71559){if((e71559 instanceof Object)){\r\nvar ex__29589__auto__ = e71559;\r\nvar statearr_71560_71727 = state_71547;\r\n(statearr_71560_71727[(5)] = ex__29589__auto__);\r\n\r\n\r\ncljs.core.async.impl.ioc_helpers.process_exception(state_71547);\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nthrow e71559;\r\n\r\n}\r\n}})();\r\nif(cljs.core.keyword_identical_QMARK_(ret_value__29587__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\nvar G__71729 = state_71547;\r\nstate_71547 = G__71729;\r\ncontinue;\r\n} else {\r\nreturn ret_value__29587__auto__;\r\n}\r\nbreak;\r\n}\r\n});\r\nmecca$music$load_samples_$_state_machine__29586__auto__ = function(state_71547){\r\nswitch(arguments.length){\r\ncase 0:\r\nreturn mecca$music$load_samples_$_state_machine__29586__auto____0.call(this);\r\ncase 1:\r\nreturn mecca$music$load_samples_$_state_machine__29586__auto____1.call(this,state_71547);\r\n}\r\nthrow(new Error('Invalid arity: ' + arguments.length));\r\n};\r\nmecca$music$load_samples_$_state_machine__29586__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$load_samples_$_state_machine__29586__auto____0;\r\nmecca$music$load_samples_$_state_machine__29586__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$load_samples_$_state_machine__29586__auto____1;\r\nreturn mecca$music$load_samples_$_state_machine__29586__auto__;\r\n})()\r\n})();\r\nvar state__29791__auto__ = (function (){var statearr_71561 = (f__29790__auto__.cljs$core$IFn$_invoke$arity$0 ? f__29790__auto__.cljs$core$IFn$_invoke$arity$0() : f__29790__auto__.call(null));\r\n(statearr_71561[(6)] = c__29789__auto__);\r\n\r\nreturn statearr_71561;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__29791__auto__);\r\n}));\r\n\r\nreturn c__29789__auto__;\r\n});\r\nif((typeof mecca !== 'undefined') && (typeof mecca.music !== 'undefined') && (typeof mecca.music.loading_samples !== 'undefined')){\r\n} else {\r\nmecca.music.loading_samples = (function (){var c__29789__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\r\ncljs.core.async.impl.dispatch.run((function (){\r\nvar f__29790__auto__ = (function (){var switch__29585__auto__ = (function (state_71571){\r\nvar state_val_71572 = (state_71571[(1)]);\r\nif((state_val_71572 === (1))){\r\nvar inst_71562 = cljs.core.PersistentVector.EMPTY_NODE;\r\nvar inst_71563 = mecca.music.load_samples();\r\nvar state_71571__$1 = (function (){var statearr_71573 = state_71571;\r\n(statearr_71573[(7)] = inst_71562);\r\n\r\nreturn statearr_71573;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_71571__$1,(2),inst_71563);\r\n} else {\r\nif((state_val_71572 === (2))){\r\nvar inst_71562 = (state_71571[(7)]);\r\nvar inst_71565 = (state_71571[(2)]);\r\nvar inst_71566 = [new cljs.core.Keyword(null,\"load-samples\",\"load-samples\",-40877701),inst_71565];\r\nvar inst_71567 = (new cljs.core.PersistentVector(null,2,(5),inst_71562,inst_71566,null));\r\nvar inst_71568 = (re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(inst_71567) : re_frame.core.dispatch.call(null,inst_71567));\r\nvar inst_71569 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([\"Samples loaded\"], 0));\r\nvar state_71571__$1 = (function (){var statearr_71574 = state_71571;\r\n(statearr_71574[(8)] = inst_71568);\r\n\r\nreturn statearr_71574;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_71571__$1,inst_71569);\r\n} else {\r\nreturn null;\r\n}\r\n}\r\n});\r\nreturn (function() {\r\nvar mecca$music$state_machine__29586__auto__ = null;\r\nvar mecca$music$state_machine__29586__auto____0 = (function (){\r\nvar statearr_71575 = [null,null,null,null,null,null,null,null,null];\r\n(statearr_71575[(0)] = mecca$music$state_machine__29586__auto__);\r\n\r\n(statearr_71575[(1)] = (1));\r\n\r\nreturn statearr_71575;\r\n});\r\nvar mecca$music$state_machine__29586__auto____1 = (function (state_71571){\r\nwhile(true){\r\nvar ret_value__29587__auto__ = (function (){try{while(true){\r\nvar result__29588__auto__ = switch__29585__auto__(state_71571);\r\nif(cljs.core.keyword_identical_QMARK_(result__29588__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\ncontinue;\r\n} else {\r\nreturn result__29588__auto__;\r\n}\r\nbreak;\r\n}\r\n}catch (e71576){if((e71576 instanceof Object)){\r\nvar ex__29589__auto__ = e71576;\r\nvar statearr_71577_71750 = state_71571;\r\n(statearr_71577_71750[(5)] = ex__29589__auto__);\r\n\r\n\r\ncljs.core.async.impl.ioc_helpers.process_exception(state_71571);\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nthrow e71576;\r\n\r\n}\r\n}})();\r\nif(cljs.core.keyword_identical_QMARK_(ret_value__29587__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\nvar G__71751 = state_71571;\r\nstate_71571 = G__71751;\r\ncontinue;\r\n} else {\r\nreturn ret_value__29587__auto__;\r\n}\r\nbreak;\r\n}\r\n});\r\nmecca$music$state_machine__29586__auto__ = function(state_71571){\r\nswitch(arguments.length){\r\ncase 0:\r\nreturn mecca$music$state_machine__29586__auto____0.call(this);\r\ncase 1:\r\nreturn mecca$music$state_machine__29586__auto____1.call(this,state_71571);\r\n}\r\nthrow(new Error('Invalid arity: ' + arguments.length));\r\n};\r\nmecca$music$state_machine__29586__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$state_machine__29586__auto____0;\r\nmecca$music$state_machine__29586__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$state_machine__29586__auto____1;\r\nreturn mecca$music$state_machine__29586__auto__;\r\n})()\r\n})();\r\nvar state__29791__auto__ = (function (){var statearr_71578 = (f__29790__auto__.cljs$core$IFn$_invoke$arity$0 ? f__29790__auto__.cljs$core$IFn$_invoke$arity$0() : f__29790__auto__.call(null));\r\n(statearr_71578[(6)] = c__29789__auto__);\r\n\r\nreturn statearr_71578;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__29791__auto__);\r\n}));\r\n\r\nreturn c__29789__auto__;\r\n})();\r\n}\r\nmecca.music.add_semitone = (function mecca$music$add_semitone(rate){\r\nreturn (rate * Math.pow((2),((1) / (12))));\r\n});\r\nmecca.music.sub_semitone = (function mecca$music$sub_semitone(rate){\r\nreturn (rate * Math.pow((2),((-1) / (12))));\r\n});\r\nmecca.music.inc_rate = (function mecca$music$inc_rate(semis){\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(mecca.music.add_semitone,cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(semis,(1)));\r\n});\r\nmecca.music.dec_rate = (function mecca$music$dec_rate(semis){\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(mecca.music.sub_semitone,cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(semis,(1)));\r\n});\r\nmecca.music.pitch__GT_rate = (function mecca$music$pitch__GT_rate(midi_num){\r\nif(((66) < midi_num)){\r\nreturn mecca.music.inc_rate((midi_num - (66)));\r\n} else {\r\nreturn mecca.music.dec_rate(((68) - midi_num));\r\n}\r\n});\r\nmecca.music.detune_cents = (function mecca$music$detune_cents(midi_num){\r\nif(((66) < midi_num)){\r\nreturn ((100) * (midi_num - (66)));\r\n} else {\r\nreturn ((-100) * ((68) - midi_num));\r\n}\r\n});\r\nmecca.music.computedPlaybackRate = (function mecca$music$computedPlaybackRate(detune,playbackRate){\r\nreturn (playbackRate * Math.pow((2),(detune / (1200))));\r\n});\r\nmecca.music.detune_cents((72));\r\nmecca.music.play_note = (function mecca$music$play_note(pitch){\r\nvar context = cljs.core.deref((function (){var G__71579 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71579) : re_frame.core.subscribe.call(null,G__71579));\r\n})());\r\nvar samples = (function (){var G__71580 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71580) : re_frame.core.subscribe.call(null,G__71580));\r\n})();\r\nvar instrument = (function (){var G__71581 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71581) : re_frame.core.subscribe.call(null,G__71581));\r\n})();\r\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),cljs.core.deref(instrument)));\r\nvar sample_source = context.createBufferSource();\r\n(sample_source.buffer = audio_buffer);\r\n\r\nsample_source.detune.setValueAtTime(mecca.music.detune_cents(pitch),context.currentTime);\r\n\r\nsample_source.playbackRate.setValueAtTime(mecca.music.computedPlaybackRate(mecca.music.detune_cents(pitch),(1)),context.currentTime);\r\n\r\nsample_source.connect(context.destination);\r\n\r\nsample_source.start();\r\n\r\nreturn sample_source;\r\n});\r\nmecca.music.computedPlaybackRate(mecca.music.detune_cents((72)),mecca.music.pitch__GT_rate((72)));\r\nmecca.music.createFadeBuffer = (function mecca$music$createFadeBuffer(context,activeTime,fadeTime){\r\nvar length1 = (activeTime * context.sampleRate);\r\nvar length2 = ((activeTime - ((2) * fadeTime)) * context.sampleRate);\r\nvar length = (length1 + length2);\r\nvar buffer = context.createBuffer((1),length,context.sampleRate);\r\nvar p = buffer.getChannelData((0));\r\nvar fadeLength = (fadeTime * context.sampleRate);\r\nvar fadeIndex1 = fadeLength;\r\nvar fadeIndex2 = (length1 - fadeLength);\r\nconsole.log([\"createFadeBuffer() length = \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(length)].join(''));\r\n\r\nvar seq__71582_71785 = cljs.core.seq(cljs.core.range.cljs$core$IFn$_invoke$arity$1(length1));\r\nvar chunk__71583_71786 = null;\r\nvar count__71584_71787 = (0);\r\nvar i__71585_71788 = (0);\r\nwhile(true){\r\nif((i__71585_71788 < count__71584_71787)){\r\nvar i_71789 = chunk__71583_71786.cljs$core$IIndexed$_nth$arity$2(null,i__71585_71788);\r\nif((i_71789 < fadeIndex1)){\r\n(p[i_71789] = Math.sqrt((i_71789 / fadeLength)));\r\n} else {\r\nif((i_71789 >= fadeIndex2)){\r\n(p[i_71789] = Math.sqrt(((1) - ((i_71789 - fadeIndex2) / fadeLength))));\r\n} else {\r\n(p[i_71789] = (1));\r\n\r\n}\r\n}\r\n\r\n\r\nvar G__71795 = seq__71582_71785;\r\nvar G__71796 = chunk__71583_71786;\r\nvar G__71797 = count__71584_71787;\r\nvar G__71798 = (i__71585_71788 + (1));\r\nseq__71582_71785 = G__71795;\r\nchunk__71583_71786 = G__71796;\r\ncount__71584_71787 = G__71797;\r\ni__71585_71788 = G__71798;\r\ncontinue;\r\n} else {\r\nvar temp__5735__auto___71799 = cljs.core.seq(seq__71582_71785);\r\nif(temp__5735__auto___71799){\r\nvar seq__71582_71801__$1 = temp__5735__auto___71799;\r\nif(cljs.core.chunked_seq_QMARK_(seq__71582_71801__$1)){\r\nvar c__4609__auto___71802 = cljs.core.chunk_first(seq__71582_71801__$1);\r\nvar G__71806 = cljs.core.chunk_rest(seq__71582_71801__$1);\r\nvar G__71807 = c__4609__auto___71802;\r\nvar G__71808 = cljs.core.count(c__4609__auto___71802);\r\nvar G__71809 = (0);\r\nseq__71582_71785 = G__71806;\r\nchunk__71583_71786 = G__71807;\r\ncount__71584_71787 = G__71808;\r\ni__71585_71788 = G__71809;\r\ncontinue;\r\n} else {\r\nvar i_71810 = cljs.core.first(seq__71582_71801__$1);\r\nif((i_71810 < fadeIndex1)){\r\n(p[i_71810] = Math.sqrt((i_71810 / fadeLength)));\r\n} else {\r\nif((i_71810 >= fadeIndex2)){\r\n(p[i_71810] = Math.sqrt(((1) - ((i_71810 - fadeIndex2) / fadeLength))));\r\n} else {\r\n(p[i_71810] = (1));\r\n\r\n}\r\n}\r\n\r\n\r\nvar G__71817 = cljs.core.next(seq__71582_71801__$1);\r\nvar G__71818 = null;\r\nvar G__71819 = (0);\r\nvar G__71820 = (0);\r\nseq__71582_71785 = G__71817;\r\nchunk__71583_71786 = G__71818;\r\ncount__71584_71787 = G__71819;\r\ni__71585_71788 = G__71820;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nvar seq__71586_71821 = cljs.core.seq(cljs.core.range.cljs$core$IFn$_invoke$arity$2(length1,length));\r\nvar chunk__71587_71822 = null;\r\nvar count__71588_71823 = (0);\r\nvar i__71589_71824 = (0);\r\nwhile(true){\r\nif((i__71589_71824 < count__71588_71823)){\r\nvar i_71826 = chunk__71587_71822.cljs$core$IIndexed$_nth$arity$2(null,i__71589_71824);\r\n(p[i_71826] = (0));\r\n\r\n\r\nvar G__71828 = seq__71586_71821;\r\nvar G__71829 = chunk__71587_71822;\r\nvar G__71830 = count__71588_71823;\r\nvar G__71831 = (i__71589_71824 + (1));\r\nseq__71586_71821 = G__71828;\r\nchunk__71587_71822 = G__71829;\r\ncount__71588_71823 = G__71830;\r\ni__71589_71824 = G__71831;\r\ncontinue;\r\n} else {\r\nvar temp__5735__auto___71835 = cljs.core.seq(seq__71586_71821);\r\nif(temp__5735__auto___71835){\r\nvar seq__71586_71836__$1 = temp__5735__auto___71835;\r\nif(cljs.core.chunked_seq_QMARK_(seq__71586_71836__$1)){\r\nvar c__4609__auto___71837 = cljs.core.chunk_first(seq__71586_71836__$1);\r\nvar G__71839 = cljs.core.chunk_rest(seq__71586_71836__$1);\r\nvar G__71840 = c__4609__auto___71837;\r\nvar G__71841 = cljs.core.count(c__4609__auto___71837);\r\nvar G__71842 = (0);\r\nseq__71586_71821 = G__71839;\r\nchunk__71587_71822 = G__71840;\r\ncount__71588_71823 = G__71841;\r\ni__71589_71824 = G__71842;\r\ncontinue;\r\n} else {\r\nvar i_71843 = cljs.core.first(seq__71586_71836__$1);\r\n(p[i_71843] = (0));\r\n\r\n\r\nvar G__71845 = cljs.core.next(seq__71586_71836__$1);\r\nvar G__71846 = null;\r\nvar G__71847 = (0);\r\nvar G__71848 = (0);\r\nseq__71586_71821 = G__71845;\r\nchunk__71587_71822 = G__71846;\r\ncount__71588_71823 = G__71847;\r\ni__71589_71824 = G__71848;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nreturn buffer;\r\n});\r\nmecca.music.createDelayTimeBuffer = (function mecca$music$createDelayTimeBuffer(context,activeTime,fadeTime,shiftUp){\r\nvar length1 = (activeTime * context.sampleRate);\r\nvar length2 = ((activeTime - ((2) * fadeTime)) * context.sampleRate);\r\nvar length = (length1 + length2);\r\nvar buffer = context.createBuffer((1),length,context.sampleRate);\r\nvar p = buffer.getChannelData((0));\r\nconsole.log([\"createDelayTimeBuffer() length = \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(length)].join(''));\r\n\r\nvar seq__71590_71857 = cljs.core.seq(cljs.core.range.cljs$core$IFn$_invoke$arity$1(length1));\r\nvar chunk__71591_71858 = null;\r\nvar count__71592_71859 = (0);\r\nvar i__71593_71860 = (0);\r\nwhile(true){\r\nif((i__71593_71860 < count__71592_71859)){\r\nvar i_71862 = chunk__71591_71858.cljs$core$IIndexed$_nth$arity$2(null,i__71593_71860);\r\nif(cljs.core.truth_(shiftUp)){\r\n(p[i_71862] = ((length1 - i_71862) / length));\r\n} else {\r\n(p[i_71862] = (i_71862 / length1));\r\n}\r\n\r\n\r\nvar G__71867 = seq__71590_71857;\r\nvar G__71868 = chunk__71591_71858;\r\nvar G__71869 = count__71592_71859;\r\nvar G__71870 = (i__71593_71860 + (1));\r\nseq__71590_71857 = G__71867;\r\nchunk__71591_71858 = G__71868;\r\ncount__71592_71859 = G__71869;\r\ni__71593_71860 = G__71870;\r\ncontinue;\r\n} else {\r\nvar temp__5735__auto___71873 = cljs.core.seq(seq__71590_71857);\r\nif(temp__5735__auto___71873){\r\nvar seq__71590_71875__$1 = temp__5735__auto___71873;\r\nif(cljs.core.chunked_seq_QMARK_(seq__71590_71875__$1)){\r\nvar c__4609__auto___71876 = cljs.core.chunk_first(seq__71590_71875__$1);\r\nvar G__71878 = cljs.core.chunk_rest(seq__71590_71875__$1);\r\nvar G__71879 = c__4609__auto___71876;\r\nvar G__71880 = cljs.core.count(c__4609__auto___71876);\r\nvar G__71881 = (0);\r\nseq__71590_71857 = G__71878;\r\nchunk__71591_71858 = G__71879;\r\ncount__71592_71859 = G__71880;\r\ni__71593_71860 = G__71881;\r\ncontinue;\r\n} else {\r\nvar i_71885 = cljs.core.first(seq__71590_71875__$1);\r\nif(cljs.core.truth_(shiftUp)){\r\n(p[i_71885] = ((length1 - i_71885) / length));\r\n} else {\r\n(p[i_71885] = (i_71885 / length1));\r\n}\r\n\r\n\r\nvar G__71888 = cljs.core.next(seq__71590_71875__$1);\r\nvar G__71889 = null;\r\nvar G__71890 = (0);\r\nvar G__71891 = (0);\r\nseq__71590_71857 = G__71888;\r\nchunk__71591_71858 = G__71889;\r\ncount__71592_71859 = G__71890;\r\ni__71593_71860 = G__71891;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nvar seq__71594_71896 = cljs.core.seq(cljs.core.range.cljs$core$IFn$_invoke$arity$1(length));\r\nvar chunk__71595_71897 = null;\r\nvar count__71596_71898 = (0);\r\nvar i__71597_71899 = (0);\r\nwhile(true){\r\nif((i__71597_71899 < count__71596_71898)){\r\nvar i_71900 = chunk__71595_71897.cljs$core$IIndexed$_nth$arity$2(null,i__71597_71899);\r\n(p[i_71900] = (0));\r\n\r\n\r\nvar G__71901 = seq__71594_71896;\r\nvar G__71902 = chunk__71595_71897;\r\nvar G__71903 = count__71596_71898;\r\nvar G__71904 = (i__71597_71899 + (1));\r\nseq__71594_71896 = G__71901;\r\nchunk__71595_71897 = G__71902;\r\ncount__71596_71898 = G__71903;\r\ni__71597_71899 = G__71904;\r\ncontinue;\r\n} else {\r\nvar temp__5735__auto___71905 = cljs.core.seq(seq__71594_71896);\r\nif(temp__5735__auto___71905){\r\nvar seq__71594_71906__$1 = temp__5735__auto___71905;\r\nif(cljs.core.chunked_seq_QMARK_(seq__71594_71906__$1)){\r\nvar c__4609__auto___71907 = cljs.core.chunk_first(seq__71594_71906__$1);\r\nvar G__71908 = cljs.core.chunk_rest(seq__71594_71906__$1);\r\nvar G__71909 = c__4609__auto___71907;\r\nvar G__71910 = cljs.core.count(c__4609__auto___71907);\r\nvar G__71911 = (0);\r\nseq__71594_71896 = G__71908;\r\nchunk__71595_71897 = G__71909;\r\ncount__71596_71898 = G__71910;\r\ni__71597_71899 = G__71911;\r\ncontinue;\r\n} else {\r\nvar i_71913 = cljs.core.first(seq__71594_71906__$1);\r\n(p[i_71913] = (0));\r\n\r\n\r\nvar G__71914 = cljs.core.next(seq__71594_71906__$1);\r\nvar G__71915 = null;\r\nvar G__71916 = (0);\r\nvar G__71917 = (0);\r\nseq__71594_71896 = G__71914;\r\nchunk__71595_71897 = G__71915;\r\ncount__71596_71898 = G__71916;\r\ni__71597_71899 = G__71917;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nreturn buffer;\r\n});\r\nmecca.music.delayTime = (-1);\r\nmecca.music.fadeTime = 0.05;\r\nmecca.music.bufferTime = (2);\r\nmecca.music.previousPitch = (-1);\r\nmecca.music.play_time_stretched = (function mecca$music$play_time_stretched(instrument,pitch){\r\nvar context = (function (){var G__71598 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71598) : re_frame.core.subscribe.call(null,G__71598));\r\n})();\r\nvar current_time = cljs.core.deref(context).currentTime;\r\nvar samples = (function (){var G__71599 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71599) : re_frame.core.subscribe.call(null,G__71599));\r\n})();\r\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),instrument));\r\nvar sample_source = cljs.core.deref(context).createBufferSource();\r\nvar input = cljs.core.deref(context).createGain();\r\nvar output = cljs.core.deref(context).createGain();\r\nvar mod1 = cljs.core.deref(context).createBufferSource();\r\nvar mod2 = cljs.core.deref(context).createBufferSource();\r\nvar mod3 = cljs.core.deref(context).createBufferSource();\r\nvar mod4 = cljs.core.deref(context).createBufferSource();\r\nvar mod1Gain = cljs.core.deref(context).createGain();\r\nvar mod2Gain = cljs.core.deref(context).createGain();\r\nvar mod3Gain = cljs.core.deref(context).createGain();\r\nvar mod4Gain = cljs.core.deref(context).createGain();\r\nvar modGain1 = cljs.core.deref(context).createGain();\r\nvar modGain2 = cljs.core.deref(context).createGain();\r\nvar delay1 = cljs.core.deref(context).createDelay();\r\nvar delay2 = cljs.core.deref(context).createDelay();\r\nvar fade1 = cljs.core.deref(context).createBufferSource();\r\nvar fade2 = cljs.core.deref(context).createBufferSource();\r\nvar fadeBuffer = mecca.music.createFadeBuffer(cljs.core.deref(context),mecca.music.bufferTime,mecca.music.fadeTime);\r\nvar mix1 = cljs.core.deref(context).createGain();\r\nvar mix2 = cljs.core.deref(context).createGain();\r\nvar t = (cljs.core.deref(context).currentTime + 0.05);\r\nvar t2 = ((t + mecca.music.bufferTime) - mecca.music.fadeTime);\r\nvar shiftDownBuffer = mecca.music.createDelayTimeBuffer(cljs.core.deref(context),mecca.music.bufferTime,mecca.music.fadeTime,false);\r\nvar shiftUpBuffer = mecca.music.createDelayTimeBuffer(cljs.core.deref(context),mecca.music.bufferTime,mecca.music.fadeTime,true);\r\n(sample_source.buffer = audio_buffer);\r\n\r\n(mod1.buffer = shiftDownBuffer);\r\n\r\n(mod2.buffer = shiftDownBuffer);\r\n\r\n(mod3.buffer = shiftUpBuffer);\r\n\r\n(mod4.buffer = shiftUpBuffer);\r\n\r\n(mod1.loop = true);\r\n\r\n(mod2.loop = true);\r\n\r\n(mod3.loop = true);\r\n\r\n(mod4.loop = true);\r\n\r\n(mod3Gain.gain.value = (0));\r\n\r\n(mod4Gain.gain.value = (0));\r\n\r\nmod1.connect(mod1Gain);\r\n\r\nmod2.connect(mod2Gain);\r\n\r\nmod3.connect(mod3Gain);\r\n\r\nmod4.connect(mod4Gain);\r\n\r\nmod1Gain.connect(modGain1);\r\n\r\nmod2Gain.connect(modGain2);\r\n\r\nmod3Gain.connect(modGain1);\r\n\r\nmod4Gain.connect(modGain2);\r\n\r\nmodGain1.connect(delay1.delayTime);\r\n\r\nmodGain2.connect(delay2.delayTime);\r\n\r\n(fade1.buffer = fadeBuffer);\r\n\r\n(fade2.buffer = fadeBuffer);\r\n\r\n(fade1.loop = true);\r\n\r\n(fade2.loop = true);\r\n\r\n(mix1.gain.value = (0));\r\n\r\n(mix2.gain.value = (0));\r\n\r\nfade1.connect(mix1.gain);\r\n\r\nfade2.connect(mix2.gain);\r\n\r\nsample_source.connect(input);\r\n\r\ninput.connect(delay1);\r\n\r\ninput.connect(delay2);\r\n\r\ndelay1.connect(mix1);\r\n\r\ndelay2.connect(mix2);\r\n\r\nmix1.connect(output);\r\n\r\nmix2.connect(output);\r\n\r\noutput.connect(cljs.core.deref(context).destination);\r\n\r\nmod1.start(t);\r\n\r\nmod2.start(t2);\r\n\r\nmod3.start(t);\r\n\r\nmod4.start(t2);\r\n\r\nfade1.start(t);\r\n\r\nfade2.start(t2);\r\n\r\nsample_source.start();\r\n\r\n(modGain1.gain.value = (1));\r\n\r\n(modGain2.gain.value = (1));\r\n\r\nmodGain1.gain.setTargetAtTime(((1) * mecca.music.delayTime),(0),0.01);\r\n\r\nreturn modGain2.gain.setTargetAtTime(((1) * mecca.music.delayTime),(0),0.01);\r\n});\r\nmecca.music.play_time_stretched((1),(70));\r\nmecca.music.play_sample = (function mecca$music$play_sample(instrument,pitch){\r\nvar context = (function (){var G__71600 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71600) : re_frame.core.subscribe.call(null,G__71600));\r\n})();\r\nvar samples = (function (){var G__71601 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71601) : re_frame.core.subscribe.call(null,G__71601));\r\n})();\r\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),instrument));\r\nvar sample_source = cljs.core.deref(context).createBufferSource();\r\nvar compressor = cljs.core.deref(context).createDynamicsCompressor();\r\nvar analyser = cljs.core.deref(context).createAnalyser();\r\n(sample_source.buffer = audio_buffer);\r\n\r\nsample_source.detune.setValueAtTime(mecca.music.detune_cents(pitch),cljs.core.deref(context).currentTime);\r\n\r\nsample_source.connect(analyser);\r\n\r\nsample_source.connect(cljs.core.deref(context).destination);\r\n\r\nsample_source.start();\r\n\r\nreturn sample_source;\r\n});\r\nmecca.music.play_at = (function mecca$music$play_at(instrument,pitch,time){\r\nvar context = (function (){var G__71602 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71602) : re_frame.core.subscribe.call(null,G__71602));\r\n})();\r\nvar samples = (function (){var G__71603 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71603) : re_frame.core.subscribe.call(null,G__71603));\r\n})();\r\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),instrument));\r\nvar sample_source = cljs.core.deref(context).createBufferSource();\r\n(sample_source.buffer = audio_buffer);\r\n\r\nsample_source.detune.setValueAtTime(mecca.music.detune_cents(pitch),time);\r\n\r\nsample_source.playbackRate.setValueAtTime(mecca.music.computedPlaybackRate(mecca.music.detune_cents(pitch),(1)),time);\r\n\r\nsample_source.playbackRate.setValueAtTime(mecca.music.pitch__GT_rate(pitch),time);\r\n\r\nsample_source.connect(cljs.core.deref(context).destination);\r\n\r\nsample_source.start(time);\r\n\r\nreturn sample_source;\r\n});\r\nmecca.music.delay_note = (function mecca$music$delay_note(beats,note){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(note,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),(function (p1__71604_SHARP_){\r\nreturn (beats + p1__71604_SHARP_);\r\n}));\r\n});\r\nmecca.music.advance_note = (function mecca$music$advance_note(beats,note){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(note,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),(function (p1__71605_SHARP_){\r\nreturn (p1__71605_SHARP_ - beats);\r\n}));\r\n});\r\nmecca.music.queue_section = (function mecca$music$queue_section(from,to){\r\nvar notes = (function (){var G__71608 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71608) : re_frame.core.subscribe.call(null,G__71608));\r\n})();\r\nvar started = (function (){var G__71609 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71609) : re_frame.core.subscribe.call(null,G__71609));\r\n})();\r\nvar tempo = (function (){var G__71610 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71610) : re_frame.core.subscribe.call(null,G__71610));\r\n})();\r\nvar section = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__71606_SHARP_){\r\nreturn (((from <= new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__71606_SHARP_))) && ((new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__71606_SHARP_) <= to)));\r\n}),cljs.core.deref(notes));\r\nvar advanced = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__71607_SHARP_){\r\nreturn mecca.music.advance_note(from,p1__71607_SHARP_);\r\n}),section);\r\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$queue_section_$_iter__71611(s__71612){\r\nreturn (new cljs.core.LazySeq(null,(function (){\r\nvar s__71612__$1 = s__71612;\r\nwhile(true){\r\nvar temp__5735__auto__ = cljs.core.seq(s__71612__$1);\r\nif(temp__5735__auto__){\r\nvar s__71612__$2 = temp__5735__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(s__71612__$2)){\r\nvar c__4580__auto__ = cljs.core.chunk_first(s__71612__$2);\r\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\r\nvar b__71614 = cljs.core.chunk_buffer(size__4581__auto__);\r\nif((function (){var i__71613 = (0);\r\nwhile(true){\r\nif((i__71613 < size__4581__auto__)){\r\nvar map__71615 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__71613);\r\nvar map__71615__$1 = (((((!((map__71615 == null))))?(((((map__71615.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__71615.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__71615):map__71615);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71615__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71615__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71615__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\ncljs.core.chunk_append(b__71614,mecca.music.play_at(instrument,pitch,(cljs.core.deref(started) + (((60) / cljs.core.deref(tempo)) * time))));\r\n\r\nvar G__71986 = (i__71613 + (1));\r\ni__71613 = G__71986;\r\ncontinue;\r\n} else {\r\nreturn true;\r\n}\r\nbreak;\r\n}\r\n})()){\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__71614),mecca$music$queue_section_$_iter__71611(cljs.core.chunk_rest(s__71612__$2)));\r\n} else {\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__71614),null);\r\n}\r\n} else {\r\nvar map__71617 = cljs.core.first(s__71612__$2);\r\nvar map__71617__$1 = (((((!((map__71617 == null))))?(((((map__71617.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__71617.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__71617):map__71617);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71617__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71617__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71617__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(cljs.core.deref(started) + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$queue_section_$_iter__71611(cljs.core.rest(s__71612__$2)));\r\n}\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),null,null));\r\n});\r\nreturn iter__4582__auto__(section);\r\n})());\r\n});\r\nmecca.music.play_section = (function mecca$music$play_section(from,to){\r\nvar notes = (function (){var G__71621 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71621) : re_frame.core.subscribe.call(null,G__71621));\r\n})();\r\nvar now = cljs.core.deref((function (){var G__71622 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71622) : re_frame.core.subscribe.call(null,G__71622));\r\n})()).currentTime;\r\nvar tempo = (function (){var G__71623 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71623) : re_frame.core.subscribe.call(null,G__71623));\r\n})();\r\nvar section = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__71619_SHARP_){\r\nreturn (((from <= new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__71619_SHARP_))) && ((new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__71619_SHARP_) <= to)));\r\n}),cljs.core.deref(notes));\r\nvar advanced = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__71620_SHARP_){\r\nreturn mecca.music.advance_note(from,p1__71620_SHARP_);\r\n}),section);\r\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$play_section_$_iter__71624(s__71625){\r\nreturn (new cljs.core.LazySeq(null,(function (){\r\nvar s__71625__$1 = s__71625;\r\nwhile(true){\r\nvar temp__5735__auto__ = cljs.core.seq(s__71625__$1);\r\nif(temp__5735__auto__){\r\nvar s__71625__$2 = temp__5735__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(s__71625__$2)){\r\nvar c__4580__auto__ = cljs.core.chunk_first(s__71625__$2);\r\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\r\nvar b__71627 = cljs.core.chunk_buffer(size__4581__auto__);\r\nif((function (){var i__71626 = (0);\r\nwhile(true){\r\nif((i__71626 < size__4581__auto__)){\r\nvar map__71628 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__71626);\r\nvar map__71628__$1 = (((((!((map__71628 == null))))?(((((map__71628.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__71628.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__71628):map__71628);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71628__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71628__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71628__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\ncljs.core.chunk_append(b__71627,mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))));\r\n\r\nvar G__72011 = (i__71626 + (1));\r\ni__71626 = G__72011;\r\ncontinue;\r\n} else {\r\nreturn true;\r\n}\r\nbreak;\r\n}\r\n})()){\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__71627),mecca$music$play_section_$_iter__71624(cljs.core.chunk_rest(s__71625__$2)));\r\n} else {\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__71627),null);\r\n}\r\n} else {\r\nvar map__71630 = cljs.core.first(s__71625__$2);\r\nvar map__71630__$1 = (((((!((map__71630 == null))))?(((((map__71630.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__71630.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__71630):map__71630);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71630__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71630__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71630__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$play_section_$_iter__71624(cljs.core.rest(s__71625__$2)));\r\n}\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),null,null));\r\n});\r\nreturn iter__4582__auto__(advanced);\r\n})());\r\n});\r\nmecca.music.play_notes = (function mecca$music$play_notes(n){\r\nvar editor_start = (function (){var G__71632 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71632) : re_frame.core.subscribe.call(null,G__71632));\r\n})();\r\nvar tempo = (function (){var G__71633 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71633) : re_frame.core.subscribe.call(null,G__71633));\r\n})();\r\nvar beat_length = ((60) / cljs.core.deref((function (){var G__71634 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71634) : re_frame.core.subscribe.call(null,G__71634));\r\n})()));\r\nvar play_pos = (((cljs.core.deref(editor_start) < (4)))?cljs.core.deref(editor_start):((4) + cljs.core.deref((function (){var G__71635 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71635) : re_frame.core.subscribe.call(null,G__71635));\r\n})())));\r\nreturn mecca.music.play_section((play_pos - (1)),((play_pos - (1)) + (n * 0.5)));\r\n});\r\nmecca.music.play_from_here = (function mecca$music$play_from_here(){\r\nvar notes = (function (){var G__71637 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71637) : re_frame.core.subscribe.call(null,G__71637));\r\n})();\r\nvar editor_start = (function (){var G__71638 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71638) : re_frame.core.subscribe.call(null,G__71638));\r\n})();\r\nvar play_pos = cljs.core.deref(editor_start);\r\nvar length = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__71636_SHARP_){\r\nreturn new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__71636_SHARP_);\r\n}),cljs.core.deref(notes)));\r\nreturn mecca.music.play_section((play_pos - (1)),((16) + play_pos));\r\n});\r\nmecca.music.play_song_BANG_ = (function mecca$music$play_song_BANG_(){\r\nvar notes = (function (){var G__71639 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71639) : re_frame.core.subscribe.call(null,G__71639));\r\n})();\r\nvar now = cljs.core.deref((function (){var G__71640 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71640) : re_frame.core.subscribe.call(null,G__71640));\r\n})()).currentTime;\r\nvar tempo = (function (){var G__71641 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__71641) : re_frame.core.subscribe.call(null,G__71641));\r\n})();\r\nvar G__71642_72023 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"reset-position\",\"reset-position\",-804750860)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__71642_72023) : re_frame.core.dispatch.call(null,G__71642_72023));\r\n\r\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$play_song_BANG__$_iter__71643(s__71644){\r\nreturn (new cljs.core.LazySeq(null,(function (){\r\nvar s__71644__$1 = s__71644;\r\nwhile(true){\r\nvar temp__5735__auto__ = cljs.core.seq(s__71644__$1);\r\nif(temp__5735__auto__){\r\nvar s__71644__$2 = temp__5735__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(s__71644__$2)){\r\nvar c__4580__auto__ = cljs.core.chunk_first(s__71644__$2);\r\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\r\nvar b__71646 = cljs.core.chunk_buffer(size__4581__auto__);\r\nif((function (){var i__71645 = (0);\r\nwhile(true){\r\nif((i__71645 < size__4581__auto__)){\r\nvar map__71647 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__71645);\r\nvar map__71647__$1 = (((((!((map__71647 == null))))?(((((map__71647.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__71647.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__71647):map__71647);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71647__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71647__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71647__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\ncljs.core.chunk_append(b__71646,mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))));\r\n\r\nvar G__72025 = (i__71645 + (1));\r\ni__71645 = G__72025;\r\ncontinue;\r\n} else {\r\nreturn true;\r\n}\r\nbreak;\r\n}\r\n})()){\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__71646),mecca$music$play_song_BANG__$_iter__71643(cljs.core.chunk_rest(s__71644__$2)));\r\n} else {\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__71646),null);\r\n}\r\n} else {\r\nvar map__71649 = cljs.core.first(s__71644__$2);\r\nvar map__71649__$1 = (((((!((map__71649 == null))))?(((((map__71649.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__71649.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__71649):map__71649);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71649__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71649__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__71649__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$play_song_BANG__$_iter__71643(cljs.core.rest(s__71644__$2)));\r\n}\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),null,null));\r\n});\r\nreturn iter__4582__auto__(cljs.core.deref(notes));\r\n})());\r\n});\r\nmecca.music.get_bytes_BANG_ = (function mecca$music$get_bytes_BANG_(analyser,freq_data){\r\nanalyser.getByteFrequencyData(freq_data);\r\n\r\nreturn freq_data;\r\n});\r\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","mecca/music.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",16],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$react","~$module$node_modules$react$index","~$create-react-class","~$module$node_modules$create_react_class$index","~$react-dom","~$module$node_modules$react_dom$index"],"~:use-macros",["^ ","~$go","~$cljs.core.async.macros","~$go-loop","^F"],"~:excludes",["~#set",[]],"~:name","~$mecca.music","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$cljs.core.async","^P","~$re-frame.core","^Q","~$rf","^Q","~$cljs.core","^S","~$goog","^T"],"~:seen",["^I",["~:require","~:require-macros"]],"~:uses",["^ ","~$<!","^P","~$chan","^P","~$put!","^P","~$close!","^P","~$subscribe","^Q","~$dispatch","^Q"],"^W",["^ ","^F","^F","^S","^S","^P","^P"],"~:form",["~#list",["~$ns","^K",["^14",["^V",["^P","~:refer",["^Y","^Z","^[","^10"]],["^Q","~:as","^R","^16",["^11","^12"]]]],["^14",["^W",["^F","^16",["^E","^G"]]]]]],"~:flags",["^ ","^V",["^I",[]],"^W",["^I",[]]],"~:js-deps",["^ "],"~:deps",["^T","^S","^P","^Q"]],"^M","^K","~:resource-id",["~:shadow.build.classpath/resource","mecca/music.cljs"],"~:compiled-at",1665302727602,"~:resource-name","mecca/music.cljs","~:warnings",[],"~:source","(ns mecca.music\r\n  (:require\r\n   [cljs.core.async :refer [<! chan put! close!]]\r\n   [re-frame.core :as rf :refer [subscribe dispatch]])\r\n  (:require-macros\r\n   [cljs.core.async.macros :refer [go go-loop]]))\r\n\r\n(defn mario-jump []\r\n  (let [beat (subscribe [:current-position])\r\n        notes (subscribe [:notes])\r\n        jump (subscribe [:mario-jump])]\r\n    (when (and @(subscribe [:playing?])\r\n               (zero? @jump))\r\n      (if (< 0 (count (filter #(= (:time %) (inc @beat))\r\n                              @notes)))\r\n        (dispatch [:jump!])))))\r\n\r\n(defn mario-move []\r\n  (let [notes (subscribe [:notes])\r\n        playing? @(subscribe [:playing?])\r\n        now (.-currentTime @(subscribe [:audio-context]))\r\n        length (apply max (map #(:time %) @notes))\r\n        started (subscribe [:play-start])\r\n        elapsed (- now @started)\r\n        beat-length (/ 60 @(subscribe [:tempo]))\r\n        end-time (+ @started (* beat-length 4))\r\n        current-beat (/ elapsed beat-length)\r\n        last-drawn-pos (subscribe [:current-position])]\r\n    (when playing?\r\n      (if (< length current-beat)\r\n        (dispatch [:play-off])\r\n        (if (< @last-drawn-pos current-beat)\r\n          (do (dispatch [:move-mario])\r\n              (dispatch [:advance-position])))))\r\n    (mario-jump)))\r\n\r\n(defn dispatch-timer-event []\r\n  (dispatch [:tick!])\r\n  (mario-move))\r\n\r\n(defonce do-timer\r\n  (js/setInterval dispatch-timer-event 60))\r\n\r\n(defn load-sound [named-url]\r\n  (let [out (chan)\r\n        req (js/XMLHttpRequest.)]\r\n    (set! (.-responseType req) \"arraybuffer\")\r\n    (set! (.-onload req) (fn [e]\r\n                           (if (= (.-status req) 200)\r\n                             (do (put! out (assoc named-url :buffer (.-response req)))\r\n                                 (close! out))\r\n                             (close! out))))\r\n    (.open req \"GET\" (:url named-url) true)\r\n    (.send req)\r\n    out))\r\n\r\n(defn decode [named-url]\r\n  (let [out (chan)]\r\n    (if (:buffer named-url)\r\n      (do\r\n        (.decodeAudioData\r\n         @(subscribe [:audio-context]) (:buffer named-url)\r\n         (fn [decoded-buffer]\r\n           (put! out (assoc named-url :decoded-buffer decoded-buffer))\r\n           (close! out))\r\n         (fn []\r\n           (.error js/console \"Error loading file \" (prn named-url))\r\n           (close! out))))\r\n      (close! out))\r\n    out))\r\n\r\n(defn buffer-source [buffer]\r\n  (let [source (.createBufferSource @(subscribe [:audio-context]))]\r\n    (set! (.-buffer source) buffer)\r\n    source))\r\n\r\n(defn get-and-decode [named-url]\r\n  (go\r\n    (when-let [s (<! (load-sound named-url))]\r\n      (<! (decode s)))))\r\n\r\n(defn load-samples []\r\n  (go-loop [result {}\r\n            sounds (range 1 19)]\r\n    (if-not (nil? (first sounds))\r\n      (let [sound (first sounds)\r\n            decoded-buffer (<! (get-and-decode {:url (str \"/audio/\" sound \".mp3\")\r\n                                                :sound sound}))]\r\n        (prn sound)\r\n        (prn decoded-buffer)\r\n        (recur (assoc result sound decoded-buffer)\r\n               (rest sounds)))\r\n      result)))\r\n\r\n(defonce loading-samples\r\n  (go\r\n    (dispatch [:load-samples  (<! (load-samples))])\r\n    (prn \"Samples loaded\")))\r\n\r\n(defn add-semitone [rate]\r\n  (* rate (.pow js/Math 2 (/ 1 12))))\r\n\r\n(defn sub-semitone [rate]\r\n  (* rate (.pow js/Math 2 (/ -1 12))))\r\n\r\n(defn inc-rate [semis]\r\n  (reduce add-semitone (repeat semis 1)))\r\n\r\n(defn dec-rate [semis]\r\n  (reduce sub-semitone (repeat semis 1)))\r\n\r\n(defn pitch->rate [midi-num]\r\n  (if (< 66 midi-num)\r\n    (inc-rate (- midi-num 66))\r\n    (dec-rate (- 68 midi-num))))\r\n\r\n(defn detune-cents [midi-num]\r\n  (if (< 66 midi-num)\r\n    (* 100 (- midi-num 66))\r\n    (* -100 (- 68 midi-num))))\r\n\r\n(defn computedPlaybackRate [detune playbackRate]\r\n  (* playbackRate (.pow js/Math 2 (/ detune 1200))))\r\n\r\n(detune-cents 72)\r\n\r\n(defn play-note [pitch]\r\n  (let [context       @(subscribe [:audio-context])\r\n        samples       (subscribe [:samples])\r\n        instrument    (subscribe [:instrument])\r\n        audio-buffer  (:decoded-buffer (get @samples @instrument))\r\n        sample-source (.createBufferSource context)]\r\n    (set! (.-buffer sample-source) audio-buffer)\r\n    (.setValueAtTime\r\n     (.-detune sample-source)\r\n     (detune-cents pitch)\r\n     (.-currentTime context))\r\n    (.setValueAtTime\r\n     (.-playbackRate sample-source)\r\n     (computedPlaybackRate (detune-cents pitch) 1)\r\n     (.-currentTime context))\r\n    (.connect sample-source (.-destination context))\r\n    (.start sample-source)\r\n    sample-source))\r\n\r\n(computedPlaybackRate (detune-cents 72) (pitch->rate 72))\r\n\r\n\r\n;; pitch shift via Delay-Line Modulation\r\n;; ported from: https://github.com/cwilso/Audio-Input-Effects/blob/main/js/jungle.js\r\n(defn createFadeBuffer [context activeTime fadeTime]\r\n  (let [length1 (* activeTime (.-sampleRate context))\r\n        length2 (* (- activeTime (* 2 fadeTime))\r\n                   (.-sampleRate context))\r\n        length (+ length1 length2)\r\n        buffer (.createBuffer context\r\n                              1\r\n                              length\r\n                              (.-sampleRate context))\r\n        p (.getChannelData buffer 0)\r\n        fadeLength (* fadeTime (.-sampleRate context))\r\n        fadeIndex1 fadeLength\r\n        fadeIndex2 (- length1 fadeLength)]\r\n    (.log js/console (str \"createFadeBuffer() length = \" length))\r\n    (doseq [i (range length1)]\r\n     (cond (< i fadeIndex1)\r\n           (aset p i (.sqrt js/Math (/ i fadeLength)))\r\n           (>= i fadeIndex2)\r\n           (aset p i (.sqrt js/Math\r\n                            (- 1\r\n                               (/ (- i fadeIndex2) fadeLength))))\r\n           :else \r\n           (aset p i 1)))\r\n\r\n    (doseq [i (range length1 length)]\r\n      (aset p i 0))\r\n    buffer))\r\n\r\n(defn createDelayTimeBuffer [context activeTime fadeTime shiftUp]\r\n  (let [length1 (* activeTime (.-sampleRate context))\r\n        length2 (* (- activeTime (* 2 fadeTime))\r\n                   (.-sampleRate context))\r\n        length (+ length1 length2)\r\n        buffer (.createBuffer context\r\n                              1\r\n                              length\r\n                              (.-sampleRate context))\r\n        p (.getChannelData buffer 0)]\r\n    (.log js/console\r\n          (str \"createDelayTimeBuffer() length = \" length))\r\n    (doseq [i (range length1)]\r\n      (if shiftUp\r\n        (aset p i (/ (- length1 i) length))\r\n        (aset p i (/ i length1))))\r\n      (doseq [i (range length)] \r\n        (aset p i 0))\r\n      buffer))\r\n\r\n(def delayTime -1)\r\n\r\n(def fadeTime 0.05)\r\n\r\n(def bufferTime 2)\r\n\r\n(def previousPitch -1)\r\n\r\n(defn play-time-stretched [instrument pitch]\r\n  (let [context         (subscribe [:audio-context])\r\n        current-time    (.-currentTime @context)\r\n        samples         (subscribe [:samples])\r\n        audio-buffer    (:decoded-buffer (get @samples instrument))\r\n        sample-source   (.createBufferSource @context)\r\n        input           (.createGain @context)\r\n        output          (.createGain @context)\r\n        mod1            (.createBufferSource @context)\r\n        mod2            (.createBufferSource @context)\r\n        mod3            (.createBufferSource @context)\r\n        mod4            (.createBufferSource @context)\r\n        mod1Gain        (.createGain @context)\r\n        mod2Gain        (.createGain @context)\r\n        mod3Gain        (.createGain @context)\r\n        mod4Gain        (.createGain @context)\r\n        modGain1        (.createGain @context)\r\n        modGain2        (.createGain @context)\r\n        delay1          (.createDelay @context)\r\n        delay2          (.createDelay @context)\r\n        fade1           (.createBufferSource @context)\r\n        fade2           (.createBufferSource @context)\r\n        fadeBuffer      (createFadeBuffer @context bufferTime fadeTime)\r\n        mix1            (.createGain @context)\r\n        mix2            (.createGain @context)\r\n        t               (+ (.-currentTime @context) 0.05)\r\n        t2              (- (+ t bufferTime) fadeTime)\r\n        shiftDownBuffer (createDelayTimeBuffer @context bufferTime fadeTime false)\r\n        shiftUpBuffer   (createDelayTimeBuffer @context bufferTime fadeTime true)]\r\n    (set! (.-buffer sample-source) audio-buffer)\r\n    (set! (.-buffer mod1) shiftDownBuffer)\r\n    (set! (.-buffer mod2) shiftDownBuffer)\r\n    (set! (.-buffer mod3) shiftUpBuffer)\r\n    (set! (.-buffer mod4) shiftUpBuffer)\r\n    (set! (.-loop mod1) true)\r\n    (set! (.-loop mod2) true)\r\n    (set! (.-loop mod3) true)\r\n    (set! (.-loop mod4) true)\r\n    (set! (-> mod3Gain .-gain .-value) 0)\r\n    (set! (-> mod4Gain .-gain .-value) 0)\r\n    (.connect mod1 mod1Gain)\r\n    (.connect mod2 mod2Gain)\r\n    (.connect mod3 mod3Gain)\r\n    (.connect mod4 mod4Gain)\r\n    (.connect mod1Gain modGain1)\r\n    (.connect mod2Gain modGain2)\r\n    (.connect mod3Gain modGain1)\r\n    (.connect mod4Gain modGain2)\r\n    (.connect modGain1 (.-delayTime delay1))\r\n    (.connect modGain2 (.-delayTime delay2))\r\n    (set! (.-buffer fade1) fadeBuffer)\r\n    (set! (.-buffer fade2) fadeBuffer)\r\n    (set! (.-loop fade1) true)\r\n    (set! (.-loop fade2) true)\r\n    (set! (-> mix1 .-gain .-value) 0)\r\n    (set! (-> mix2 .-gain .-value) 0)\r\n    (.connect fade1 (.-gain mix1))\r\n    (.connect fade2 (.-gain mix2))\r\n    (.connect sample-source input)\r\n    (.connect input delay1)\r\n    (.connect input delay2)\r\n    (.connect delay1 mix1)\r\n    (.connect delay2 mix2)\r\n    (.connect mix1 output)\r\n    (.connect mix2 output)\r\n    (.connect output (.-destination @context))\r\n    (.start mod1 t)\r\n    (.start mod2 t2)\r\n    (.start mod3 t)\r\n    (.start mod4 t2)\r\n    (.start fade1 t)\r\n    (.start fade2 t2)\r\n    (.start sample-source)\r\n    (set! (-> modGain1 .-gain .-value) 1)\r\n    (set! (-> modGain2 .-gain .-value) 1)\r\n    (.setTargetAtTime (.-gain modGain1) (* 1 delayTime) 0 0.01)\r\n    (.setTargetAtTime (.-gain modGain2) (* 1 delayTime) 0 0.01)))\r\n\r\n(play-time-stretched 1 70)\r\n\r\n(defn play-sample [instrument pitch]\r\n  (let [context (subscribe [:audio-context])\r\n        samples (subscribe [:samples])\r\n        audio-buffer (:decoded-buffer (get @samples instrument))\r\n        sample-source (.createBufferSource @context)\r\n        compressor (.createDynamicsCompressor @context)\r\n        analyser (.createAnalyser @context)]\r\n    (set! (.-buffer sample-source) audio-buffer)\r\n    (.setValueAtTime\r\n     (.-detune sample-source)\r\n     (detune-cents pitch)\r\n     (.-currentTime @context))\r\n    \r\n    (.connect sample-source analyser)\r\n    (.connect sample-source (.-destination @context))\r\n    (.start sample-source)\r\n    sample-source))\r\n\r\n(defn play-at [instrument pitch time]\r\n  (let [context (subscribe [:audio-context])\r\n        samples (subscribe [:samples])\r\n        audio-buffer (:decoded-buffer (get @samples instrument))\r\n        sample-source (.createBufferSource @context)]\r\n    (set! (.-buffer sample-source) audio-buffer)\r\n    (.setValueAtTime\r\n     (.-detune sample-source)\r\n     (detune-cents pitch)\r\n     time)\r\n(.setValueAtTime\r\n (.-playbackRate sample-source)\r\n (computedPlaybackRate (detune-cents pitch) 1)\r\n time)\r\n    (.setValueAtTime\r\n     (.-playbackRate sample-source)\r\n     (pitch->rate pitch)\r\n     time)\r\n    (.connect sample-source (.-destination @context))\r\n    (.start sample-source time)\r\n    sample-source))\r\n\r\n(defn delay-note [beats note]\r\n  (update note :time #(+ beats %)))\r\n\r\n(defn advance-note [beats note]\r\n  (update note :time #(- % beats)))\r\n\r\n(defn queue-section [from to]\r\n  (let [notes (subscribe [:notes])\r\n        started (subscribe [:play-start])\r\n        tempo (subscribe [:tempo])\r\n        section (filter #(<= from (:time %) to) @notes)\r\n        advanced (map #(advance-note from %) section)]\r\n    (doall (for [{:keys [time instrument pitch]} section]\r\n             (play-at instrument pitch (+ @started (* (/ 60 @tempo) time)))))))\r\n\r\n(defn play-section [from to]\r\n  (let [notes (subscribe [:notes])\r\n        now (.-currentTime @(subscribe [:audio-context]))\r\n        tempo (subscribe [:tempo])\r\n        section (filter #(<= from (:time %) to) @notes)\r\n        advanced (map #(advance-note from %) section)]\r\n    (doall (for [{:keys [time instrument pitch]} advanced]\r\n             (play-at instrument pitch (+ now (* (/ 60 @tempo) time)))))))\r\n\r\n(defn play-notes [n]\r\n  (let [editor-start (subscribe [:editor-beat-start])\r\n        tempo (subscribe [:tempo])\r\n        beat-length (/ 60 @(subscribe [:tempo]))\r\n        play-pos (if (< @editor-start 4)\r\n                   @editor-start\r\n                   (+ 4 @(subscribe [:editor-beat-start])))]\r\n    (play-section (dec play-pos) (+ (dec play-pos) (* n 0.5)))))\r\n\r\n(defn play-from-here []\r\n  (let [notes (subscribe [:notes])\r\n        editor-start (subscribe [:editor-beat-start])\r\n        play-pos ;(if (< @editor-start 4)\r\n        @editor-start\r\n                  ; (+ 4 @(subscribe [:editor-beat-start])))\r\n        length (apply max (map #(:time %) @notes))]\r\n    (play-section (dec play-pos) (+ 16 play-pos))))\r\n\r\n(defn play-song! []\r\n  (let [notes (subscribe [:notes])\r\n        now (.-currentTime @(subscribe [:audio-context]))\r\n        tempo (subscribe [:tempo])]\r\n    (dispatch [:reset-position])\r\n    (doall (for [{:keys [time instrument pitch]} @notes]\r\n             (play-at instrument pitch (+ now (* (/ 60 @tempo) time)))))))\r\n\r\n(defn get-bytes! [analyser freq-data]\r\n  (.getByteFrequencyData analyser freq-data)\r\n  freq-data)\r\n","~:reader-features",["^I",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["mecca.music/mario-jump","beat","G__71477","re-frame.core/subscribe","notes","G__71478","jump","G__71479","and__4174__auto__","cljs.core/deref","G__71482","cljs.core/count","p1__71476#","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","G__71483","re-frame.core/dispatch","mecca.music/mario-move","G__71485","playing?","G__71486","now","G__71487","length","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/max","p1__71484#","cljs.core.map.cljs$core$IFn$_invoke$arity$2","started","G__71488","elapsed","beat-length","G__71489","end-time","current-beat","last-drawn-pos","G__71490","G__71491","G__71492","G__71493","mecca.music/dispatch-timer-event","G__71494","js/mecca","js/mecca.music","js/mecca.music.do-timer","mecca.music/do-timer","js/setInterval","mecca.music/load-sound","named-url","out","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","req","js/XMLHttpRequest","e","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","cljs.core.async/close!","mecca.music/decode","G__71495","decoded-buffer","js/console","cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic","mecca.music/buffer-source","buffer","source","G__71496","mecca.music/get-and-decode","c__29789__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__29790__auto__","switch__29585__auto__","state_71508","state_val_71509","inst_71497","cljs.core.async.impl.ioc-helpers/take!","inst_71499","statearr-71510","statearr-71511","statearr-71512","inst_71501","statearr-71513","inst_71506","cljs.core.async.impl.ioc-helpers/return-chan","inst_71503","statearr-71514","statearr-71515","state-machine__29586__auto__","ret-value__29587__auto__","result__29588__auto__","cljs.core/keyword-identical?","e71516","js/Object","ex__29589__auto__","statearr-71517","cljs.core.async.impl.ioc-helpers/process-exception","state__29791__auto__","statearr-71518","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","mecca.music/load-samples","state_71547","state_val_71548","inst_71519","cljs.core/PersistentHashMap","inst_71520","inst_71521","inst_71522","statearr-71549","statearr-71550","inst_71524","inst_71525","inst_71526","cljs.core/not","statearr-71551","statearr-71552","inst_71545","inst_71528","inst_71529","inst_71530","inst_71531","inst_71532","inst_71533","statearr-71553","statearr-71554","inst_71543","statearr-71555","inst_71535","inst_71536","inst_71537","inst_71538","inst_71539","statearr-71556","statearr-71557","statearr-71558","e71559","statearr-71560","statearr-71561","cljs.core.range.cljs$core$IFn$_invoke$arity$2","cljs.core/first","cljs.core/rest","js/mecca.music.loading-samples","mecca.music/loading-samples","state_71571","state_val_71572","inst_71562","cljs.core/PersistentVector","inst_71563","statearr-71573","inst_71565","inst_71566","inst_71567","inst_71568","inst_71569","statearr-71574","statearr-71575","e71576","statearr-71577","statearr-71578","mecca.music/add-semitone","rate","js/Math","mecca.music/sub-semitone","mecca.music/inc-rate","semis","cljs.core.reduce.cljs$core$IFn$_invoke$arity$2","cljs.core.repeat.cljs$core$IFn$_invoke$arity$2","mecca.music/dec-rate","mecca.music/pitch->rate","midi-num","mecca.music/detune-cents","mecca.music/computedPlaybackRate","detune","playbackRate","mecca.music/play-note","pitch","context","G__71579","samples","G__71580","instrument","G__71581","audio-buffer","cljs.core.get.cljs$core$IFn$_invoke$arity$2","sample-source","mecca.music/createFadeBuffer","activeTime","fadeTime","length1","length2","p","fadeLength","fadeIndex1","fadeIndex2","seq__71582","cljs.core/seq","chunk__71583","count__71584","i__71585","temp__5735__auto__","cljs.core/chunked-seq?","c__4609__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/next","i","cljs.core.range.cljs$core$IFn$_invoke$arity$1","seq__71586","chunk__71587","count__71588","i__71589","mecca.music/createDelayTimeBuffer","shiftUp","seq__71590","chunk__71591","count__71592","i__71593","seq__71594","chunk__71595","count__71596","i__71597","mecca.music/delayTime","mecca.music/fadeTime","mecca.music/bufferTime","mecca.music/previousPitch","mecca.music/play-time-stretched","G__71598","current-time","G__71599","input","output","mod1","mod2","mod3","mod4","mod1Gain","mod2Gain","mod3Gain","mod4Gain","modGain1","modGain2","delay1","delay2","fade1","fade2","fadeBuffer","mix1","mix2","t","t2","shiftDownBuffer","shiftUpBuffer","mecca.music/play-sample","G__71600","G__71601","compressor","analyser","mecca.music/play-at","time","G__71602","G__71603","mecca.music/delay-note","beats","note","p1__71604#","cljs.core.update.cljs$core$IFn$_invoke$arity$3","mecca.music/advance-note","p1__71605#","mecca.music/queue-section","from","to","G__71608","G__71609","tempo","G__71610","section","p1__71606#","advanced","p1__71607#","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","iter__4582__auto__","s__71612","cljs.core/LazySeq","c__4580__auto__","size__4581__auto__","b__71614","cljs.core/chunk-buffer","i__71613","map__71615","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/PROTOCOL_SENTINEL","cljs.core/hash-map","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__71611","map__71617","cljs.core/cons","mecca.music/play-section","G__71621","G__71622","G__71623","p1__71619#","p1__71620#","s__71625","b__71627","i__71626","map__71628","iter__71624","map__71630","mecca.music/play-notes","n","editor-start","G__71632","G__71633","G__71634","play-pos","G__71635","mecca.music/play-from-here","G__71637","G__71638","p1__71636#","mecca.music/play-song!","G__71639","G__71640","G__71641","G__71642","s__71644","b__71646","i__71645","map__71647","iter__71643","map__71649","mecca.music/get-bytes!","freq-data"]]],"~:cache-keys",["~#cmap",[["~:shadow.build.npm/resource","node_modules/react-dom/index.js"],[1651803609000,1651803609000,1651803581384,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^I",[]],"~:deps-syms",["~$shadow.js","~$module$node_modules$react_dom$cjs$react_dom_production_min","~$module$node_modules$react_dom$cjs$react_dom_development"]]],["^1<","reagent/impl/batching.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$reagent.debug","~$reagent.interop","~$reagent.impl.util","~$clojure.string"]]],["^1<","goog/dom/tagname.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.dom.HtmlElement"]]],["^1<","cljs/core/async/impl/ioc_helpers.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$cljs.core.async.impl.protocols"]]],["^1<","goog/labs/useragent/platform.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.labs.userAgent.util","~$goog.string"]]],["^1<","cljs/core/async.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers","~$goog.array"]]],["^1<","goog/math/math.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","~$goog.asserts"]]],["^1<","goog/html/trustedtypes.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/labs/useragent/browser.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^1W","~$goog.object","~$goog.string.internal"]]],["^1<","goog/html/safeurl.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^25"]]],["^1<","re_frame/loggers.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$clojure.set"]]],["^1<","goog/array/array.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23"]]],["^1I","node_modules/prop-types/checkPropTypes.js"],[1651803609000,1651803609000,1651803581499,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$prop_types$lib$ReactPropTypesSecret"]]],["^1<","reagent/impl/util.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1Q","^1R","^1T"]]],["^1<","goog/useragent/useragent.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^1W","~$goog.reflect","^1X"]]],["^1<","re_frame/router.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$re-frame.events","~$re-frame.interop","~$re-frame.loggers","~$re-frame.trace"]]],["^1I","node_modules/fbjs/lib/emptyFunction.js"],[1651803609000,1651803609000,1651803582852,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","goog/debug/error.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","re_frame/registrar.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2C","^2D"]]],["^1I","node_modules/fbjs/lib/emptyObject.js"],[1651803609000,1651803609000,1651803582767,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","goog/dom/nodetype.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/cjs/scheduler.development.js"],[1651803609000,1651803609000,1651803582380,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","reagent/ratom.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1S","^1Q","~$reagent.impl.batching","^2<"]]],["^1I","node_modules/scheduler/cjs/scheduler.production.min.js"],[1651803609000,1651803609000,1651803582614,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","re_frame/interop.cljs"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$goog.async.nextTick","~$reagent.core","~$reagent.ratom"]]],["^1<","goog/string/typedstring.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/cjs/scheduler-tracing.production.min.js"],[1651803609000,1651803609000,1651803581950,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1I","node_modules/create-react-class/factory.js"],[1651803609000,1651803609000,1651803581416,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$object_assign$index","~$module$node_modules$fbjs$lib$emptyObject","~$module$node_modules$fbjs$lib$invariant","~$module$node_modules$fbjs$lib$warning"]]],["^1I","node_modules/react/index.js"],[1651803609000,1651803609000,1651803581384,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$react$cjs$react_production_min","~$module$node_modules$react$cjs$react_development"]]],["^1<","shadow/js.js"],[1651803609529,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/object/object.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","reagent/impl/template.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^?","^1T","~$clojure.walk","^1S","~$reagent.impl.component","^2F","^2I","^1R","^1Q"]]],["^1<","goog/dom/asserts.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23"]]],["^1I","node_modules/react-dom/cjs/react-dom.production.min.js"],[1651803609000,1651803609000,1651803583468,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^?","^2J","~$module$node_modules$scheduler$index"]]],"~:SHADOW-TIMESTAMP",[1651803609000,1651803607000],["^1I","node_modules/react/cjs/react.development.js"],[1651803609000,1651803609000,1651803581796,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^2J","~$module$node_modules$prop_types$checkPropTypes"]]],["^1<","re_frame/events.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$re-frame.db","~$re-frame.utils","^2C","~$re-frame.registrar","^2D","~$re-frame.interceptor","^2E"]]],["^1<","goog/math/long.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^2A"]]],["^1<","goog/html/trustedresourceurl.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","~$goog.html.trustedtypes","^28","^29","^2:","^2;"]]],["^1<","cljs/core/async/impl/channels.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V","^20","^1Z"]]],["^1<","goog/string/internal.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/cjs/scheduler-tracing.development.js"],[1651803609000,1651803609000,1651803581920,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1I","node_modules/fbjs/lib/warning.js"],[1651803609000,1651803609000,1651803583748,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$fbjs$lib$emptyFunction"]]],["^1<","goog/functions/functions.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","cljs/core/async/impl/dispatch.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1Z","^2G"]]],["^1<","goog/html/safestyle.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","~$goog.html.SafeUrl","^2:","^2;","^25"]]],["^1<","goog/dom/safe.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","~$goog.html.SafeScript","~$goog.html.SafeStyle","^2[","^27","~$goog.html.uncheckedconversions","^2:","^25"]]],["^1<","reagent/impl/component.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^A","^?","^1S","^2F","^2I","^1R","^1Q"]]],["^1<","clojure/walk.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","cljs/core/async/impl/protocols.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/structs/map.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^1<","goog/html/safehtml.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","~$goog.dom.TagName","~$goog.dom.tags","^33","^34","~$goog.html.SafeStyleSheet","^2[","^27","^2Y","^28","^29","^2>","^24","^2:","^2;","^25"]]],["^1<","goog/dom/tags.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^24"]]],["^1<","goog/math/size.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/index.js"],[1651803609000,1651803609000,1651803581383,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$scheduler$cjs$scheduler_production_min","~$module$node_modules$scheduler$cjs$scheduler_development"]]],["^1<","goog/labs/useragent/engine.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^1W","^1X"]]],["^1<","goog/dom/dom.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","~$goog.dom.BrowserFeature","~$goog.dom.NodeType","^38","~$goog.dom.safe","^32","^35","~$goog.math.Coordinate","~$goog.math.Size","^24","^1X","~$goog.string.Unicode","~$goog.userAgent"]]],["^1<","goog/asserts/asserts.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.debug.Error","^3>"]]],["^1<","cljs/core/async/impl/buffers.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V"]]],["^1<","goog/uri/uri.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^1X","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1<","goog/i18n/bidi.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/object-assign/index.js"],[1651803609000,1651803609000,1651803581310,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","re_frame/db.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2C"]]],["^1<","cljs/core/async/impl/timers.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V","^1Y","^20"]]],["^1<","goog/fs/url.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/base.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",[]]],["^1<","goog/structs/structs.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^24"]]],["^1<","clojure/string.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1X","~$goog.string.StringBuffer"]]],["^1I","node_modules/create-react-class/index.js"],[1651803609000,1651803609000,1651803581796,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^?","~$module$node_modules$create_react_class$factory"]]],["^1<","re_frame/cofx.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2U","^2X","^2W","^2D"]]],["^1I","node_modules/react/cjs/react.production.min.js"],[1651803609000,1651803609000,1651803581879,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^2J"]]],["^1<","goog/debug/entrypointregistry.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23"]]],["^1<","goog/string/string.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^3?","^35","^2:","^25"]]],["^1<","re_frame/interceptor.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2D","^2C","^2E","^2<"]]],["^1<","clojure/data.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2<"]]],["^1<","goog/reflect/reflect.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/labs/useragent/util.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^25"]]],["^1<","reagent/core.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^?","~$reagent.impl.template","^2Q","^1S","^2F","^2I","^1Q","^1R","~$reagent.dom"]]],["^1<","goog/string/stringbuffer.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/math/coordinate.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.math"]]],["^1<","re_frame/std_interceptors.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2X","^2D","^2W","^2U","~$clojure.data","~$re-frame.cofx","^2V","^2E"]]],["^1<","goog/iter/iter.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^31","^3N"]]],["^1<","goog/async/nexttick.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.debug.entryPointRegistry","~$goog.dom","^38","^3?","^31","^32","^27","^2>","^2?","^2:"]]],["^1<","goog/html/uncheckedconversions.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^32","^33","^34","^3:","^2[","^27","^2:","^25"]]],["^1<","re_frame/utils.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2D"]]],["^1<","reagent/dom.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^C","^1S","^3L","^2F","^2I","^1Q","^1R"]]],["^1<","re_frame/fx.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$re-frame.router","^2U","^2X","^2C","^2B","^2W","^2D","^2E"]]],["^1I","node_modules/prop-types/lib/ReactPropTypesSecret.js"],[1651803609000,1651803609000,1651803582241,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","reagent/interop.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/dom/htmlelement.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","cljs/core.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["~$goog.math.Long","~$goog.math.Integer","^1X","^24","^22","~$goog.Uri","^3J"]]],["^1<","goog/html/safescript.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^2Y","^2:","^2;"]]],["^1<","reagent/debug.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/html/safestylesheet.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^34","^24","^2:","^2;","^25"]]],["^1<","mecca/music.cljs"],[1665302727033,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^P","^Q"]]],["^1<","goog/math/integer.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^2A"]]],["^1<","goog/dom/browserfeature.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^3C"]]],["^1I","node_modules/scheduler/tracing.js"],[1651803609000,1651803609000,1651803581746,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$scheduler$cjs$scheduler_tracing_production_min","~$module$node_modules$scheduler$cjs$scheduler_tracing_development"]]],["^1I","node_modules/react-dom/cjs/react-dom.development.js"],[1651803609000,1651803609000,1651803583417,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^?","^2J","^2R","^2T","~$module$node_modules$scheduler$tracing"]]],["^1<","clojure/set.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/uri/utils.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^1X"]]],["^1<","goog/string/const.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^2;"]]],["^1I","node_modules/fbjs/lib/invariant.js"],[1651803609000,1651803609000,1651803583311,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","re_frame/trace.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2C","^2D","^31"]]],["^1<","re_frame/subs.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2U","^2C","^2D","^2V","^2W","^2E"]]],["^1<","re_frame/core.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2B","~$re-frame.subs","^2C","^2U","~$re-frame.fx","^3P","^3S","^2D","^2W","^2X","~$re-frame.std-interceptors","^2<"]]]]],"~:clj-info",["^ ","jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64_vlq.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/dispatch.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/reader_types.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/impl/ioc_macros.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/core.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/analyzer.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/protocols.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/exec/threadpool.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/ratom.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/errors.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/inspect.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/interop.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar!/net/cgrand/macrovich.cljc",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/tagged_literals.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/trace.cljc",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/util.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/interop.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/compiler.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/default_data_readers.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/externs.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/data.json/0.2.6/data.json-0.2.6.jar!/clojure/data/json.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/macros.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/core.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/env.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/concurrent.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/debug.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/js_deps.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1650075668000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","mecca/music.cljs","^7",1,"^8",5,"^9",1,"^:",16],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",["^ ","^E","^F","^G","^F"],"^H",["^I",[]],"^J","^K","^N",null,"^O",["^ ","^P","^P","^Q","^Q","^R","^Q","^S","^S","^T","^T"],"^U",["^I",["^V","^W"]],"~:shadow/js-access-global",["^I",["XMLHttpRequest","Object","Math","setInterval"]],"^X",["^ ","^Y","^P","^Z","^P","^[","^P","^10","^P","^11","^Q","^12","^Q"],"~:defs",["^ ","~$previousPitch",["^ ","^J","~$mecca.music/previousPitch","^6","mecca/music.cljs","^7",205,"^8",1,"^9",205,"^:",19,"^5",["^ ","^6","mecca/music.cljs","^7",205,"^8",6,"^9",205,"^:",19],"~:tag","~$number"],"~$get-bytes!",["^ ","~:protocol-inline",null,"^5",["^ ","^6","mecca/music.cljs","^7",377,"^8",7,"^9",377,"^:",17,"~:arglists",["^14",["~$quote",["^14",[["~$analyser","~$freq-data"]]]]]],"^J","~$mecca.music/get-bytes!","^6","mecca/music.cljs","^:",17,"~:method-params",["^14",[["^57","^58"]]],"~:protocol-impl",null,"~:arglists-meta",["^14",[null,null]],"^8",1,"~:variadic?",false,"^7",377,"^9",377,"~:max-fixed-arity",2,"~:fn-var",true,"^55",["^14",["^56",["^14",[["^57","^58"]]]]]],"~$fadeTime",["^ ","^J","~$mecca.music/fadeTime","^6","mecca/music.cljs","^7",201,"^8",1,"^9",201,"^:",14,"^5",["^ ","^6","mecca/music.cljs","^7",201,"^8",6,"^9",201,"^:",14],"^51","^52"],"~$load-samples",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",82,"^8",7,"^9",82,"^:",19,"^55",["^14",["^56",["^14",[[]]]]]],"^J","~$mecca.music/load-samples","^6","mecca/music.cljs","^:",19,"^5:",["^14",[[]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",82,"~:ret-tag","~$any","^9",82,"^5>",0,"^5?",true,"^55",["^14",["^56",["^14",[[]]]]]],"~$dec-rate",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",109,"^8",7,"^9",109,"^:",15,"^55",["^14",["^56",["^14",[["~$semis"]]]]]],"^J","~$mecca.music/dec-rate","^6","mecca/music.cljs","^:",15,"^5:",["^14",[["^5G"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",109,"^5D","^5E","^9",109,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^5G"]]]]]],"~$load-sound",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",44,"^8",7,"^9",44,"^:",17,"^55",["^14",["^56",["^14",[["~$named-url"]]]]]],"^J","~$mecca.music/load-sound","^6","mecca/music.cljs","^:",17,"^5:",["^14",[["^5J"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",44,"^5D","^5E","^9",44,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^5J"]]]]]],"~$delayTime",["^ ","^J","~$mecca.music/delayTime","^6","mecca/music.cljs","^7",199,"^8",1,"^9",199,"^:",15,"^5",["^ ","^6","mecca/music.cljs","^7",199,"^8",6,"^9",199,"^:",15],"^51","^52"],"~$decode",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",57,"^8",7,"^9",57,"^:",13,"^55",["^14",["^56",["^14",[["^5J"]]]]]],"^J","~$mecca.music/decode","^6","mecca/music.cljs","^:",13,"^5:",["^14",[["^5J"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",57,"^5D","^5E","^9",57,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^5J"]]]]]],"~$createDelayTimeBuffer",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",179,"^8",7,"^9",179,"^:",28,"^55",["^14",["^56",["^14",[["~$context","~$activeTime","^5@","~$shiftUp"]]]]]],"^J","~$mecca.music/createDelayTimeBuffer","^6","mecca/music.cljs","^:",28,"^5:",["^14",[["^5Q","^5R","^5@","^5S"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",179,"^5D","^5E","^9",179,"^5>",4,"^5?",true,"^55",["^14",["^56",["^14",[["^5Q","^5R","^5@","^5S"]]]]]],"~$loading-samples",["^ ","^J","~$mecca.music/loading-samples","^6","mecca/music.cljs","^7",95,"^8",1,"^9",95,"^:",25,"^5",["^ ","^6","mecca/music.cljs","^7",95,"^8",10,"^9",95,"^:",25],"^51","^5E"],"~$detune-cents",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",117,"^8",7,"^9",117,"^:",19,"^55",["^14",["^56",["^14",[["~$midi-num"]]]]]],"^J","~$mecca.music/detune-cents","^6","mecca/music.cljs","^:",19,"^5:",["^14",[["^5X"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",117,"^5D","^52","^9",117,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^5X"]]]]]],"~$play-at",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",305,"^8",7,"^9",305,"^:",14,"^55",["^14",["^56",["^14",[["~$instrument","~$pitch","~$time"]]]]]],"^J","~$mecca.music/play-at","^6","mecca/music.cljs","^:",14,"^5:",["^14",[["^5[","^60","^61"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",305,"^5D","^5E","^9",305,"^5>",3,"^5?",true,"^55",["^14",["^56",["^14",[["^5[","^60","^61"]]]]]],"~$sub-semitone",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",103,"^8",7,"^9",103,"^:",19,"^55",["^14",["^56",["^14",[["~$rate"]]]]]],"^J","~$mecca.music/sub-semitone","^6","mecca/music.cljs","^:",19,"^5:",["^14",[["^64"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",103,"^5D","^52","^9",103,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^64"]]]]]],"~$computedPlaybackRate",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",122,"^8",7,"^9",122,"^:",27,"^55",["^14",["^56",["^14",[["~$detune","~$playbackRate"]]]]]],"^J","~$mecca.music/computedPlaybackRate","^6","mecca/music.cljs","^:",27,"^5:",["^14",[["^67","^68"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",122,"^5D","^52","^9",122,"^5>",2,"^5?",true,"^55",["^14",["^56",["^14",[["^67","^68"]]]]]],"~$createFadeBuffer",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",151,"^8",7,"^9",151,"^:",23,"^55",["^14",["^56",["^14",[["^5Q","^5R","^5@"]]]]]],"^J","~$mecca.music/createFadeBuffer","^6","mecca/music.cljs","^:",23,"^5:",["^14",[["^5Q","^5R","^5@"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",151,"^5D","^5E","^9",151,"^5>",3,"^5?",true,"^55",["^14",["^56",["^14",[["^5Q","^5R","^5@"]]]]]],"~$pitch->rate",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",112,"^8",7,"^9",112,"^:",18,"^55",["^14",["^56",["^14",[["^5X"]]]]]],"^J","~$mecca.music/pitch->rate","^6","mecca/music.cljs","^:",18,"^5:",["^14",[["^5X"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",112,"^5D","^5E","^9",112,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^5X"]]]]]],"~$play-note",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",127,"^8",7,"^9",127,"^:",16,"^55",["^14",["^56",["^14",[["^60"]]]]]],"^J","~$mecca.music/play-note","^6","mecca/music.cljs","^:",16,"^5:",["^14",[["^60"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",127,"^5D","^5E","^9",127,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^60"]]]]]],"~$advance-note",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",330,"^8",7,"^9",330,"^:",19,"^55",["^14",["^56",["^14",[["~$beats","~$note"]]]]]],"^J","~$mecca.music/advance-note","^6","mecca/music.cljs","^:",19,"^5:",["^14",[["^6A","^6B"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",330,"^5D",["^I",["~$clj","^5E"]],"^9",330,"^5>",2,"^5?",true,"^55",["^14",["^56",["^14",[["^6A","^6B"]]]]]],"~$play-sample",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",287,"^8",7,"^9",287,"^:",18,"^55",["^14",["^56",["^14",[["^5[","^60"]]]]]],"^J","~$mecca.music/play-sample","^6","mecca/music.cljs","^:",18,"^5:",["^14",[["^5[","^60"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",287,"^5D","^5E","^9",287,"^5>",2,"^5?",true,"^55",["^14",["^56",["^14",[["^5[","^60"]]]]]],"~$play-from-here",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",360,"^8",7,"^9",360,"^:",21,"^55",["^14",["^56",["^14",[[]]]]]],"^J","~$mecca.music/play-from-here","^6","mecca/music.cljs","^:",21,"^5:",["^14",[[]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",360,"^5D","^5E","^9",360,"^5>",0,"^5?",true,"^55",["^14",["^56",["^14",[[]]]]]],"~$mario-jump",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",8,"^8",7,"^9",8,"^:",17,"^55",["^14",["^56",["^14",[[]]]]]],"^J","~$mecca.music/mario-jump","^6","mecca/music.cljs","^:",17,"^5:",["^14",[[]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",8,"^5D",["^I",["^5E","~$clj-nil"]],"^9",8,"^5>",0,"^5?",true,"^55",["^14",["^56",["^14",[[]]]]]],"~$play-song!",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",369,"^8",7,"^9",369,"^:",17,"^55",["^14",["^56",["^14",[[]]]]]],"^J","~$mecca.music/play-song!","^6","mecca/music.cljs","^:",17,"^5:",["^14",[[]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",369,"^5D","^5E","^9",369,"^5>",0,"^5?",true,"^55",["^14",["^56",["^14",[[]]]]]],"~$queue-section",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",333,"^8",7,"^9",333,"^:",20,"^55",["^14",["^56",["^14",[["~$from","~$to"]]]]]],"^J","~$mecca.music/queue-section","^6","mecca/music.cljs","^:",20,"^5:",["^14",[["^6O","^6P"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",333,"^5D","^5E","^9",333,"^5>",2,"^5?",true,"^55",["^14",["^56",["^14",[["^6O","^6P"]]]]]],"~$buffer-source",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",72,"^8",7,"^9",72,"^:",20,"^55",["^14",["^56",["^14",[["~$buffer"]]]]]],"^J","~$mecca.music/buffer-source","^6","mecca/music.cljs","^:",20,"^5:",["^14",[["^6S"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",72,"^5D","^5E","^9",72,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^6S"]]]]]],"~$play-section",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",342,"^8",7,"^9",342,"^:",19,"^55",["^14",["^56",["^14",[["^6O","^6P"]]]]]],"^J","~$mecca.music/play-section","^6","mecca/music.cljs","^:",19,"^5:",["^14",[["^6O","^6P"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",342,"^5D","^5E","^9",342,"^5>",2,"^5?",true,"^55",["^14",["^56",["^14",[["^6O","^6P"]]]]]],"~$bufferTime",["^ ","^J","~$mecca.music/bufferTime","^6","mecca/music.cljs","^7",203,"^8",1,"^9",203,"^:",16,"^5",["^ ","^6","mecca/music.cljs","^7",203,"^8",6,"^9",203,"^:",16],"^51","^52"],"~$get-and-decode",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",77,"^8",7,"^9",77,"^:",21,"^55",["^14",["^56",["^14",[["^5J"]]]]]],"^J","~$mecca.music/get-and-decode","^6","mecca/music.cljs","^:",21,"^5:",["^14",[["^5J"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",77,"^5D","^5E","^9",77,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^5J"]]]]]],"~$play-time-stretched",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",207,"^8",7,"^9",207,"^:",26,"^55",["^14",["^56",["^14",[["^5[","^60"]]]]]],"^J","~$mecca.music/play-time-stretched","^6","mecca/music.cljs","^:",26,"^5:",["^14",[["^5[","^60"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",207,"^5D","^5E","^9",207,"^5>",2,"^5?",true,"^55",["^14",["^56",["^14",[["^5[","^60"]]]]]],"~$do-timer",["^ ","^J","~$mecca.music/do-timer","^6","mecca/music.cljs","^7",41,"^8",1,"^9",41,"^:",18,"^5",["^ ","^6","mecca/music.cljs","^7",41,"^8",10,"^9",41,"^:",18],"^51","~$js"],"~$play-notes",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",351,"^8",7,"^9",351,"^:",17,"^55",["^14",["^56",["^14",[["~$n"]]]]]],"^J","~$mecca.music/play-notes","^6","mecca/music.cljs","^:",17,"^5:",["^14",[["~$n"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",351,"^5D","^5E","^9",351,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["~$n"]]]]]],"~$inc-rate",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",106,"^8",7,"^9",106,"^:",15,"^55",["^14",["^56",["^14",[["^5G"]]]]]],"^J","~$mecca.music/inc-rate","^6","mecca/music.cljs","^:",15,"^5:",["^14",[["^5G"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",106,"^5D","^5E","^9",106,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^5G"]]]]]],"~$dispatch-timer-event",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",37,"^8",7,"^9",37,"^:",27,"^55",["^14",["^56",["^14",[[]]]]]],"^J","~$mecca.music/dispatch-timer-event","^6","mecca/music.cljs","^:",27,"^5:",["^14",[[]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",37,"^5D",["^I",["^5E","^6K"]],"^9",37,"^5>",0,"^5?",true,"^55",["^14",["^56",["^14",[[]]]]]],"~$add-semitone",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",100,"^8",7,"^9",100,"^:",19,"^55",["^14",["^56",["^14",[["^64"]]]]]],"^J","~$mecca.music/add-semitone","^6","mecca/music.cljs","^:",19,"^5:",["^14",[["^64"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",100,"^5D","^52","^9",100,"^5>",1,"^5?",true,"^55",["^14",["^56",["^14",[["^64"]]]]]],"~$mario-move",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",18,"^8",7,"^9",18,"^:",17,"^55",["^14",["^56",["^14",[[]]]]]],"^J","~$mecca.music/mario-move","^6","mecca/music.cljs","^:",17,"^5:",["^14",[[]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",18,"^5D",["^I",["^5E","^6K"]],"^9",18,"^5>",0,"^5?",true,"^55",["^14",["^56",["^14",[[]]]]]],"~$delay-note",["^ ","^54",null,"^5",["^ ","^6","mecca/music.cljs","^7",327,"^8",7,"^9",327,"^:",17,"^55",["^14",["^56",["^14",[["^6A","^6B"]]]]]],"^J","~$mecca.music/delay-note","^6","mecca/music.cljs","^:",17,"^5:",["^14",[["^6A","^6B"]]],"^5;",null,"^5<",["^14",[null,null]],"^8",1,"^5=",false,"^7",327,"^5D",["^I",["^6D","^5E"]],"^9",327,"^5>",2,"^5?",true,"^55",["^14",["^56",["^14",[["^6A","^6B"]]]]]]],"^W",["^ ","^F","^F","^S","^S","^P","^P"],"~:cljs.analyzer/constants",["^ ","^U",["^I",["~:jump!","~:samples","~:editor-beat-start","~:sound","~:advance-position","~:instrument","~:play-off","~:else","~:mario-jump","~:time","~:play-start","~:recur","~:decoded-buffer","~:pitch","~:tick!","~:playing?","~:reset-position","~:notes","~:url","~:audio-context","~:load-samples","~:tempo","~:move-mario","~:buffer","~:current-position"]],"~:order",["^7Y","^7R","^7I","^7P","^7J","^7A","^7T","^7K","^7V","^7G","^7W","^7E","^7O","^7X","^7S","^7M","^7L","^7H","^7D","^7U","^7B","^7F","^7N","^7C","^7Q"]],"^18",["^ ","^V",["^I",[]],"^W",["^I",[]]],"^19",["^ "],"^1:",["^T","^S","^P","^Q"]],"^M","^K","~:ns-specs",["^ "],"~:ns-spec-vars",["^I",[]],"~:compiler-options",["^1H",[["^81","~:static-fns"],true,["^81","~:shadow-tweaks"],null,["^81","~:elide-asserts"],false,["^81","~:optimize-constants"],null,["^81","^1?"],null,["^81","~:external-config"],null,["^81","~:tooling-config"],null,["^81","~:emit-constants"],null,["^81","~:load-tests"],null,["^81","~:form-size-threshold"],null,["^81","~:infer-externs"],true,["^81","^1A"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^81","~:fn-invoke-direct"],null,["^81","~:source-map"],"/dev/null"]]]